# Flutterç¬”è®°

::: tip
ä½œè€…ï¼š@è‹æŸ˜ 

åˆ›å»ºæ—¶é—´ï¼š2023å¹´9æœˆ18æ—¥
:::

## æ¡†æ¶ç»“æ„

Flutteræœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªè·¨å¹³å°çš„UIå·¥å…·é›†ï¼Œå…è®¸åœ¨å„è‡ªæ“ä½œç³»ç»Ÿä¸Šå¤ç”¨åŒæ ·çš„ä»£ç ã€‚

å°½å¯èƒ½æä¾›åŸç”Ÿä½“éªŒçš„é«˜æ€§èƒ½å’Œå¤ç”¨ä»£ç ã€‚

å¼€å‘ä¸­ï¼ŒFlutteråº”ç”¨åœ¨ä¸€ä¸ªVMä¸Šè¿è¡Œï¼Œä½¿å¾—å¯åœ¨ä¿ç•™çŠ¶æ€ä¸”æ— éœ€é‡æ–°ç¼–è¯‘æƒ…å†µä¸‹ï¼Œè¿›è¡Œ**çƒ­åŠ è½½**ã€‚

å‘è¡Œæ—¶ï¼ŒFlutteråº”ç”¨ä¼šç›´æ¥é€šè¿‡AOTç¼–è¯‘ä¸ºæœºå™¨ç æˆ–è€…æ˜¯JSã€‚

### ä¼˜åŠ¿

1. å¿«é€Ÿå¼€å‘ï¼š çƒ­é‡è½½
2. è·¨å¹³å°ï¼šä¸€å¥—ä»£ç å¯ä»¥åŒæ—¶æ„å»ºAndroidå’Œioså¹³å°çš„åº”ç”¨ç¨‹åº
3. ç•Œé¢ä¼˜ç¾ï¼šæä¾›ææ–™è®¾è®¡ï¼ˆMaterial Designï¼‰å’Œè‹¹æœé£æ ¼ï¼ˆCupertinoï¼‰çš„åº“
4. æ¸²æŸ“å¼•æ“ï¼šSkia

### åˆ†å±‚æ¨¡å‹

Flutteræ˜¯ä¸€ä¸ªå¯æ‹“å±•çš„åˆ†å±‚ç³»ç»Ÿï¼Œå¯è¢«è§†ä¸ºå„ä¸ªç‹¬ç«‹ç»„ä»¶çš„é›†åˆï¼Œä¸Šå±‚ç»„ä»¶ä¾èµ–ä¸‹å±‚ï¼Œä¸Šå±‚æ— æ³•è¶Šç•Œè®¿é—®æ›´ä¸‹å±‚çš„ç»„ä»¶ï¼Œæ¡†æ¶å†…å„éƒ¨åˆ†æ˜¯å¯é€‰å¯æ›¿ä»£çš„ã€‚

åˆ†ä¸ºæ¡†æ¶ã€å¼•æ“ã€åµŒå…¥å±‚

![img](Flutterç¬”è®°.assets/172724888318636.png)

**åµŒå…¥å±‚**

å¯¹äºåº•å±‚æ“ä½œç³»ç»Ÿï¼ŒFlutteråº”ç”¨ç¨‹åºçš„åŒ…è£…æ–¹å¼ä¸å…¶ä»–åŸç”Ÿåº”ç”¨ç›¸åŒï¼Œæ¯ä¸ªå¹³å°éƒ½ä¼šåŒ…å«ä¸€ä¸ªç‰¹å®šçš„åµŒå…¥å±‚ï¼Œæä¾›ä¸€ä¸ªç¨‹åºå…¥å£ï¼Œä½¿å¾—ç¨‹åºå¯ä»¥ä¸åº•å±‚æ“ä½œç³»ç»Ÿè¿›è¡Œåè°ƒã€è®¿é—®æœåŠ¡å’Œç®¡ç†äº‹ä»¶å¾ªç¯é˜Ÿåˆ—ã€‚å¯¹äºä¸åŒå¹³å°ï¼ŒåµŒå…¥å±‚ä½¿ç”¨çš„è¯­è¨€éƒ½ä¸ä¸€æ ·ã€‚Flutterä»£ç å¯ä»¥ä½œä¸ºæ¨¡å—é›†æˆåˆ°ç°æœ‰åº”ç”¨æˆ–ä½œä¸ºåº”ç”¨ä¸»ä½“ã€‚

**å¼•æ“**

ä¸»è¦ä½¿ç”¨C++ç¼–å†™ï¼Œæä¾›Flutteråº”ç”¨æ‰€éœ€åŸè¯­ã€‚å½“éœ€è¦ç»˜åˆ¶æ–°ä¸€å¸§å†…å®¹æ—¶ï¼Œå¼•æ“å°†è´Ÿè´£å¯¹éœ€è¦åˆæˆçš„åœºæ™¯è¿›è¡Œæ …æ ¼åŒ–ã€‚å…¶æä¾›Flutteræ ¸å¿ƒAPIçš„åº•å±‚å®ç°ï¼šå›¾å½¢ã€æ–‡æœ¬å¸ƒå±€ç­‰â€¦

å¼•æ“å°†åº•å±‚C++ä»£ç åŒ…è£…æˆDartä»£ç ï¼Œé€šè¿‡dart:uiæš´éœ²ç»™Flutteræ¡†æ¶å±‚ã€‚è¯¥åº“æš´éœ²äº†æœ€åº•å±‚çš„åŸè¯­ï¼ŒåŒ…æ‹¬ç”¨äºé©±åŠ¨è¾“å…¥ï¼Œå›¾å½¢ç­‰å­ç³»ç»Ÿçš„ç±»

**æ¡†æ¶**

å¼€å‘è€…é€šè¿‡Flutteræ¡†æ¶å’ŒFlutteräº¤äº’ï¼Œè¯¥æ¡†æ¶æä¾›äº†ä»¥Dartè¯­è¨€ç¼–å†™çš„ç°ä»£å“åº”å¼æ¡†æ¶ã€‚

è‡ªä¸‹è€Œä¸Šæœ‰ï¼š

**Foundational and Annimationã€Paintingã€Gestures**

Foundationalï¼šåŸºç¡€ç±»

Annimationï¼šåŠ¨ç”»

Paintingï¼šç»˜ç”»

Gesturesï¼šæ‰‹åŠ¿

å‘ä¸Šå±‚æä¾›å¸¸ç”¨çš„æŠ½è±¡

**æ¸²æŸ“å±‚**

æä¾›æ“ä½œå¸ƒå±€çš„æŠ½è±¡ï¼Œæ“ä½œå±‚ä½¿å¾—å¯ä»¥æ„å»ºä¸€é¢—å¯æ¸²æŸ“å¯¹è±¡çš„æ ‘ï¼Œå¯åŠ¨æ€æ›´æ–°ã€‚

**Widget**

ç»„åˆçš„æŠ½è±¡ï¼Œæ¯ä¸ªæ¸²æŸ“å±‚ä¸­çš„æ¸²æŸ“å¯¹è±¡åœ¨widgetå±‚ä¸­æœ‰ä¸€ä¸ªå¯¹åº”çš„ç±»ã€‚

widgetå±‚å¯è®©ä½ è‡ªç”±ç»„åˆéœ€è¦å¤ç”¨çš„å„ç§ç±»ï¼Œå¼•å…¥äº†å“åº”å¼ç¼–ç¨‹æ¨¡å‹ã€‚

**Materialå’ŒCupertino**

æä¾›äº†å…¨é¢çš„widgetå±‚çš„åŸè¯­ç»„åˆï¼Œåˆ†åˆ«å®ç°äº†Materialå’ŒIOSè®¾è®¡è§„èŒƒã€‚

å…¶ä»–æ›´é«˜å±‚çº§çš„åŠŸèƒ½è¢«æ‹†åˆ†åˆ°ä¸åŒçš„è½¯ä»¶åŒ…ä¸­ã€‚

![img](Flutterç¬”è®°.assets/17272488831841.png)

åº”ç”¨å‰–æ

Dartåº”ç”¨ï¼šå°†Widgetåˆæˆé¢„æœŸçš„UIï¼Œå®ç°ä¸šåŠ¡ã€‚

æ¡†æ¶ï¼šæä¾›APIå°è£…ï¼Œå°†åº”ç”¨widgetæ ‘æ„å»ºåœ¨ä¸€ä¸ªSceneä¸­ã€‚

å¼•æ“ï¼šå°†åˆæˆçš„Sceneè¿›è¡Œæ …æ ¼åŒ–ã€å°è£…Flutterè¿›è¡Œå°è£…ï¼Œæš´éœ²åŠŸèƒ½ç»™dart:ui APIç»™æ¡†æ¶ã€ä½¿ç”¨åµŒå…¥å±‚APIä¸å¹³å°è¿›è¡Œæ•´åˆã€‚

åµŒå…¥å±‚ï¼šåè°ƒåº•å±‚æ“ä½œç³»ç»Ÿçš„æœåŠ¡ã€ç®¡ç†äº‹ä»¶å¾ªç¯ä½“ç³»ã€æš´éœ²ç‰¹å®šå¹³å°APIç»™åº”ç”¨é›†æˆåµŒå…¥å±‚ã€‚

è¿è¡Œå™¨ï¼šå°†åµŒå…¥å±‚æš´éœ²çš„å¹³å°APIåˆæˆä¸ºç›®æ ‡å¹³å°å¯è¿è¡Œçš„åº”ç”¨åŒ…ã€‚

### ç‰¹ç‚¹

#### 1ã€å“åº”å¼å¼€å‘

å“åº”å¼å¼€å‘ç›¸ä¿¡å¯¹äºå‰ç«¯æ¥è¯´å†ç†Ÿæ‚‰ä¸è¿‡ï¼Œ**è¿™éƒ¨åˆ†å†…å®¹å¯¹äºå‰ç«¯å¼€å‘æ¥è¯´å…¶å®å¯ä»¥ç•¥è¿‡**ï¼Œå“åº”å¼ç¼–ç¨‹ä¹Ÿå«åšå£°æ˜å¼ç¼–ç¨‹ï¼Œè¿™æ˜¯ç°åœ¨å‰ç«¯å¼€å‘çš„ä¸»æµï¼Œå½“ç„¶å¯¹äºå®¢æˆ·ç«¯å¼€å‘çš„ä¸€ç§è¶‹åŠ¿ï¼Œæ¯”å¦‚ Jetpack Compose ã€SwiftUI ã€‚

> Jetpack Compose å’Œ Flutter çš„ç›¸ä¼¼ç¨‹åº¦ç»å¯¹è®©ä½ æƒŠè®¶ã€‚

ä»€ä¹ˆæ˜¯å“åº”å¼å¼€å‘å‘¢ï¼Ÿç®€å•æ¥è¯´å…¶å®å°±æ˜¯**ä½ ä¸éœ€è¦æ‰‹åŠ¨æ›´æ–°ç•Œé¢ï¼Œåªéœ€è¦æŠŠç•Œé¢é€šè¿‡ä»£ç â€œå£°æ˜â€å¥½ï¼Œç„¶åæŠŠæ•°æ®å’Œç•Œé¢çš„å…³ç³»æ¥å¥½ï¼Œæ•°æ®æ›´æ–°äº†ç•Œé¢è‡ªç„¶å°±æ›´æ–°äº†**ã€‚

ä»ä»£ç å±‚é¢çœ‹ï¼Œå¯¹äºåŸç”Ÿå¼€å‘è€Œè¨€ï¼Œ**å“åº”å¼å¼€å‘ä¸­æ²¡æœ‰ xml çš„å¸ƒå±€ï¼Œå¸ƒå±€å®Œå…¨ç”±ä»£ç å®Œæˆï¼Œæ‰€è§å³æ‰€å¾—ï¼ŒåŒæ—¶ä½ ä¹Ÿä¸ä¼šéœ€è¦æ“ä½œç•Œé¢â€œå¯¹è±¡â€å»è¿›è¡Œèµ‹å€¼å’Œæ›´æ–°ï¼Œä½ æ‰€éœ€è¦åšçš„å°±æ˜¯é…ç½®æ•°æ®å’Œç•Œé¢çš„å…³ç³»**ã€‚

ä¸¾ä¸ªä¾‹å­ï¼š

- ä»¥å‰åœ¨ Android ä¸Šä½ éœ€è¦å†™ä¸€ä¸ª xml ï¼Œç„¶åå¸ƒå±€ä¸€ä¸ª `TextView` ï¼Œé€šè¿‡ `findViewById` å¾—åˆ°è¿™ä¸ªå¯¹è±¡ï¼Œå†è°ƒç”¨ `setText` å»èµ‹å€¼ï¼›
- ç°åœ¨ Flutter é‡Œï¼Œä½ åªéœ€è¦å£°æ˜ä¸€ä¸ª `Text` çš„ `Widget` ï¼Œå¹¶æŠŠ `data.title` è¿™æ ·çš„æ•°æ®é…ç½®ç»™ `Text` ï¼Œå½“æ•°æ®æ”¹å˜äº†ï¼Œ `Text` çš„æ˜¾ç¤ºå†…å®¹ä¹Ÿéšä¹‹æ”¹å˜ï¼›

image

å¯¹äº Android å¼€å‘è€Œè¨€ï¼Œå¤§å®¶å¯èƒ½è§‰å¾—è¿™ä¸å°±æ˜¯ `MVVM` ä¸‹çš„ `DataBinding` ä¹Ÿä¸€æ ·å—ï¼Ÿå…¶å®è¿˜ä¸å¤§ä¸€æ ·ï¼Œæ›´å½¢è±¡çš„ä¾‹å­ï¼Œè¿™é‡Œå€Ÿç”¨æ‰”ç‰©çº¿å¤§ä½¬åœ¨è°·æ­Œå¤§ä¼šå…³äº Jetpack Compose çš„åˆ†äº«ï¼Œä¸ºä»€ä¹ˆ `Data Binding` æ¨¡å¼ä¸æ˜¯å“åº”å¼å¼€å‘ï¼š

> å› ä¸º `Data Binding`ï¼ˆä¸ç®¡æ˜¯è¿™ä¸ªåº“è¿˜æ˜¯è¿™ç§ç¼–ç¨‹æ¨¡å¼ï¼‰å¹¶ä¸èƒ½åšåˆ°ã€Œå£°æ˜å¼ UIã€ï¼Œæˆ–è€…è¯´ å£°æ˜å¼ UI æ˜¯ä¸€ç§æ¯”æ•°æ®ç»‘å®šæ›´å¼ºçš„æ•°æ®ç»‘å®šï¼Œæ¯”å¦‚åœ¨ Compose é‡Œä½ é™¤äº†ç®€å•åœ°ç»‘å®šå­—ç¬¦ä¸²çš„å€¼ï¼Œè¿˜å¯ä»¥ç”¨å¸ƒå°”ç±»å‹çš„æ•°æ®æ¥æ§åˆ¶ç•Œé¢å…ƒç´ æ˜¯å¦å­˜åœ¨ï¼Œä¾‹å¦‚å†åˆ›å»ºå¦å¤–ä¸€ä¸ªå¸ƒå°”ç±»å‹çš„å˜é‡ï¼Œç”¨å®ƒæ¥æ§åˆ¶ä½ çš„æŸä¸ªæ–‡å­—çš„æ˜¾ç¤ºï¼š

image

> æ³¨æ„ï¼Œå½“ `show` å…ˆæ˜¯ `true` ç„¶ååˆå˜æˆ `false` çš„æ—¶å€™ï¼Œä¸æ˜¯è®¾ç½®äº†ä¸€ä¸ª `setVisibi``lity(GONE)` è¿™æ ·çš„åšæ³•ï¼Œè€Œæ˜¯ç›´æ¥ä¸Šé¢çš„ `Text()` åœ¨ç•Œé¢ä»£ç ä¸­æ¶ˆå¤±äº†ï¼Œæ¯æ¬¡æ•°æ®æ”¹å˜æ‰€å¯¼è‡´çš„ç•Œé¢æ›´æ–°çœ‹èµ·æ¥å°±è·Ÿç•Œé¢å…³é—­åˆé‡å¯ã€å¹¶ç”¨æ–°çš„æ•°æ®é‡æ–°åˆå§‹åŒ–äº†ä¸€éä¸€æ ·ï¼Œè¿™æ‰å«å£°æ˜å¼ UIï¼Œè¿™æ˜¯æ•°æ®ç»‘å®šåšä¸åˆ°çš„ã€‚
>
> å½“ç„¶ Compose å¹¶ä¸æ˜¯çœŸçš„æŠŠç•Œé¢é‡å¯äº†ï¼Œå®ƒåªä¼šåˆ·æ–°é‚£äº›éœ€è¦åˆ·æ–°çš„éƒ¨åˆ†ï¼Œè¿™æ ·çš„è¯å°±èƒ½ä¿è¯ï¼Œå®ƒè‡ªåŠ¨çš„æ›´æ–°ç•Œé¢è·Ÿæˆ‘ä»¬æ‰‹åŠ¨æ›´æ–°ä¸€æ ·é«˜æ•ˆã€‚

åœ¨ Flutter ä¸­ä¹Ÿç±»ä¼¼ï¼Œå½“ä½ é€šè¿‡è¿™æ ·çš„ `ture` å’Œ  `false` å»å¸ƒå±€æ—¶ï¼Œæ˜¯ç›´æ¥å½±å“äº† `Widget` æ ‘çš„ç»“æ„ä¹ƒè‡³æ›´åº•å±‚çš„æ¸²æŸ“é€»è¾‘ï¼Œæ‰€ä»¥ä½œä¸º Android å¼€å‘åœ¨å­¦ä¹  Flutter çš„æ—¶å€™ï¼Œå°±éœ€è¦ä¹ æƒ¯è¿™ç§å¼€å‘æ¨¡å¼ï¼Œâ€œæ”¾å¼ƒâ€ åœ¨è·å–æ•°æ®åï¼Œæƒ³è¦ä¿å­˜æˆ–è€…æŒæœ‰ä¸€ä¸ªç•Œé¢æ§ä»¶è¿›è¡Œæ“ä½œçš„æƒ³æ³•ã€‚å¦å¤–**åœ¨ Flutter ä¸­ï¼ŒæŒæœ‰ä¸€ä¸ª Widget æ§ä»¶å»ä¿®æ”¹å¤§éƒ¨åˆ†æ—¶å€™æ˜¯æ²¡æ„ä¹‰çš„ï¼Œä¹Ÿæ˜¯æ¥ä¸‹æ¥æˆ‘ä»¬è¦èŠçš„å†…å®¹**ã€‚

#### 2ã€Widget çš„èƒŒå

**Flutter å†…ä¸€åˆ‡çš†**`Widget`**ï¼Œ**`Widget`**æ˜¯ä¸å¯å˜çš„ï¼ˆimmutableï¼‰ï¼Œæ¯ä¸ª**`Widget`**çŠ¶æ€éƒ½ä»£è¡¨äº†ä¸€å¸§ã€‚**

ç†è§£è¿™æ®µè¯æ˜¯éå¸¸é‡è¦çš„ï¼Œè¿™å¥è¯ä¹Ÿæ˜¯å¾ˆå¤šä¸€å¼€å§‹æ¥è§¦ Flutter çš„å¼€å‘è€…æ¯”è¾ƒè¿·æƒ‘çš„åœ°æ–¹ï¼Œå› ä¸º Flutter ä¸­æ‰€æœ‰ç•Œé¢çš„å±•ç¤ºæ•ˆæœï¼Œåœ¨ä»£ç å±‚é¢éƒ½æ˜¯é€šè¿‡ `Widget` ä½œä¸ºå…¥å£å¼€å§‹ã€‚

`Widget` æ˜¯ä¸å¯å˜çš„ï¼Œè¯´æ˜é¡µé¢å‘ç”Ÿå˜åŒ–æ—¶ `Widget` ä¸€å®šæ˜¯è¢«é‡æ–°æ„å»ºï¼Œ `Widget` çš„å›ºå®šçŠ¶æ€ä»£è¡¨äº†ä¸€å¸§é™æ­¢çš„ç”»é¢ï¼Œå½“ç”»é¢å‘ç”Ÿæ”¹å˜æ—¶ï¼Œå¯¹åº”çš„ Widget ä¸€å®šä¼šå˜åŒ–ã€‚

ä¸¾ä¸ªæˆ‘ç»å¸¸è¯´çš„ä¾‹å­ï¼Œå¦‚ä¸‹ä»£ç æ‰€ç¤ºå®šä¹‰äº†ä¸€ä¸ª `TestWidget`ï¼Œ`TestWidget` æ¥å—ä¼ å…¥çš„ `title` å’Œ `count` å‚æ•°æ˜¾ç¤ºåˆ° `Text` ä¸Šï¼ŒåŒæ—¶å¦‚æœ `count` å¤§äº 99ï¼Œåˆ™åªæ˜¾ç¤º 99ã€‚

```Dart
/// Warnning/// This class is marked as '@immutable'/// but one or more of its instance fields are not finalclass TestWidget extends StatelessWidget {final String title;

  int count;TestWidget({this.title, this.count});@override
  Widget build(BuildContext context) {this.count = (count > 99) ? 99 : count;return Container(
      child: new Text("$title $count"),);}}
```

è¿™æ®µä»£ç çœ‹èµ·æ¥æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œä¹Ÿå¯ä»¥æ­£å¸¸è¿è¡Œï¼Œä½†æ˜¯åœ¨ç¼–è¯‘å™¨ä¸Šä¼šæœ‰ *â€œThis class is marked as '@immutable'ï¼Œbut one or more of its instance fields are not finalâ€* çš„æç¤ºè­¦å‘Šï¼Œè¿™æ˜¯å› ä¸º `TestWidget` å†…çš„ `count` æˆå‘˜å˜é‡æ²¡æœ‰åŠ ä¸Š `final` å£°æ˜ï¼Œä»è€Œåœ¨ä»£ç å±‚é¢å®¹æ˜“äº§ç”Ÿæ­§ä¹‰ã€‚

> å› ä¸ºå‰é¢è¯´è¿‡ `Widget` æ˜¯ `immutable` ï¼Œæ‰€ä»¥å®ƒçš„æ¯æ¬¡å˜åŒ–éƒ½ä¼šå¯¼è‡´è‡ªèº«è¢«é‡æ–°æ„å»ºï¼Œä¹Ÿå°±æ˜¯ `TestWidget` å†…çš„ `count` æˆå‘˜å˜é‡å…¶å®æ˜¯ä¸ä¼šè¢«ä¿å­˜ä¸”äºŒæ¬¡ä½¿ç”¨ã€‚

å¦‚ä¸Šæ‰€ç¤ºä»£ç ä¸­ `count` æˆå‘˜æ²¡æœ‰ `final` å£°æ˜ï¼Œæ‰€ä»¥ç†è®ºæ˜¯å¯ä»¥å¯¹ `count` è¿›è¡ŒäºŒæ¬¡ä¿®æ”¹èµ‹å€¼ï¼Œé€ æˆ `count` æˆå‘˜å¥½åƒè¢«ä¿å­˜åœ¨ `TestWidget` ä¸­è¢«äºŒæ¬¡ä½¿ç”¨çš„é”™è§‰ï¼Œå®¹æ˜“äº§ç”Ÿæ­§ä¹‰ï¼Œæ¯”å¦‚æŸç§æƒ…å†µä¸‹çš„ `widget.count`ï¼Œæ‰€ä»¥éœ€è¦åŠ è¿™ä¸ª `final` å°±å¯ä»¥çœ‹å‡ºæ¥ `Widget` çš„ä¸å¯å˜é€»è¾‘ã€‚

å¦‚æœæŠŠ `StatelessWidget` æ¢æˆ `StatefulWidget` ï¼Œç„¶åæŠŠ `build` æ–¹æ³•æ”¾åˆ° `State` é‡Œï¼Œ`State` é‡Œçš„ `count` å°±å¯ä»¥å°±å¯ä»¥å®ç°è·¨å¸§ä¿å­˜ã€‚

```Dart
class TestWidgetWithState extends StatefulWidget {final String title;TestWidgetWithState({this.title});@override
  _TestWidgetState createState() => _TestWidgetState();}class _TestWidgetState extends State<TestWidgetWithState> {
  int count;@override
  Widget build(BuildContext context) {this.count = (count > 99) ? 99 : count;return InkWell(
      onTap: () {setState(() {
          count++;});},
      child: Container(
        child: new Text("${widget.title} $count"),),);}}
```

æ‰€ä»¥è¿™é‡Œæœ€é‡è¦çš„æ˜¯ï¼Œé¦–å…ˆè¦ç†è§£ **`Widget`** **çš„ä¸å¯å˜æ€§è´¨ï¼Œç„¶åçŸ¥é“äº†é€šè¿‡** **`State`** **å°±å¯ä»¥å®ç°æ•°æ®çš„è·¨** **`Widget`** **ä¿å­˜å’Œæ¢å¤ï¼Œé‚£ä¸ºä»€ä¹ˆ** **`State`** **å°±å¯ä»¥å‘¢ï¼Ÿ**

è¿™å°±æ¶‰åŠåˆ° Flutter ä¸­å¦å¤–ä¸€ä¸ªå¾ˆé‡è¦çš„çŸ¥è¯†ç‚¹ï¼Œ`Widget` çš„èƒŒååˆæ˜¯ä»€ä¹ˆï¼Ÿäº‹å®ä¸Šåœ¨ Flutter ä¸­ Widget å¹¶ä¸æ˜¯çœŸæ­£æ§ä»¶ï¼Œ**åœ¨ Flutter çš„ä¸–ç•Œé‡Œï¼Œæˆ‘ä»¬æœ€å¸¸ä½¿ç”¨çš„** **`Widget`** **å…¶å®æ›´åƒæ˜¯é…ç½®æ–‡ä»¶ï¼Œè€Œåœ¨å…¶åé¢çš„** **`Element`** **ã€****`RenderObject`** **ã€****`Layer`** **ç­‰æ‰æ˜¯å®é™…â€œå¹²æ´»â€çš„å¯¹è±¡ã€‚**

> `Element` ã€`RenderObject` ã€`Layer` æ‰æ˜¯éœ€è¦å­¦ä¹ ç†è§£çš„å¯¹è±¡ã€‚

ç®€å•ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼Œå…¶ä¸­ `testUseAll` è¿™ä¸ª `Text` åœ¨åŒä¸€ä¸ªé¡µé¢ä¸‹åœ¨ä¸‰å¤„åœ°æ–¹è¢«ä½¿ç”¨ï¼Œå¹¶ä¸”ä»£ç å¯ä»¥æ­£å¸¸è¿è¡Œæ¸²æŸ“ï¼Œå¦‚æœæ˜¯ä¸€ä¸ªçœŸæ­£çš„ `View` ï¼Œæ˜¯ä¸èƒ½åœ¨ä¸€ä¸ªé¡µé¢ä¸‹è¿™æ ·è¢«å¤šä¸ªåœ°æ–¹åŠ è½½ä½¿ç”¨çš„ã€‚

image

åœ¨ Flutter è®¾å®šé‡Œï¼Œ`Widget` æ˜¯é…ç½®æ–‡ä»¶å‘Šè¯‰ Flutter ä½ æƒ³è¦æ€ä¹ˆæ¸²æŸ“ï¼Œ `Widget` åœ¨ Flutter é‡Œä¼šç»è¿‡ `Element` ã€`RenderObject`ã€ä¹ƒè‡³ `Layer` æœ€ç»ˆå»è¿›è¡Œæ¸²æŸ“ï¼Œæ‰€ä»¥ä½œä¸ºé…ç½®æ–‡ä»¶çš„ `Widget` å¯ä»¥æ˜¯ `@immutable`ï¼Œå¯ä»¥æ¯æ¬¡çŠ¶æ€æ›´æ–°éƒ½è¢«é‡æ„ã€‚

æ‰€ä»¥å›åˆ°æœ€åˆè¯´è¿‡çš„é—®é¢˜ï¼š**Flutter çš„åµŒå¥—å¾ˆæ¶å¿ƒï¼Ÿæ˜¯çš„ Flutter è®¾å®šä¸Šç¡®å®å¯¼è‡´å®ƒä¼šæœ‰åµŒå¥—çš„å®¢è§‚äº‹å®ï¼Œä½†æ˜¯å½“ä½ æŠŠ** **`Widget`** **ç†è§£æˆé…ç½®æ–‡ä»¶ï¼Œä½ å°±å¯ä»¥æ›´å¥½åœ°ç»„ç»‡ä»£ç ï¼Œæ¯”å¦‚ Flutter é‡Œçš„** **`Container`** **å°±æ˜¯ä¸€ä¸ªæŠ½è±¡çš„é…ç½®æ¨¡ç‰ˆã€‚**

> å‚è€ƒ `Container` ä½ å°±å­¦ä¼šäº† Flutter ç»„ç»‡ä»£ç é€»è¾‘çš„ç¬¬ä¸€æ­¥ã€‚

åŒæ—¶å› ä¸º `Widget` å¹¶ä¸æ˜¯çœŸæ­£å¹²æ´»çš„ï¼Œæ‰€ä»¥åµŒå¥—äº‹å®ä¸Šå¹¶ä¸æ˜¯åµŒå¥— `View` ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ `Widget` çš„åµŒå¥—æ˜¯ä¸ä¼šå¸¦æ¥ä»€ä¹ˆæ€§èƒ½é—®é¢˜ï¼Œå› ä¸ºå®ƒä¸æ˜¯æ­£å¼å¹²æ´»çš„ï¼ŒåµŒå¥—ä¸ä¼šå¸¦æ¥ä¸¥é‡çš„æ€§èƒ½æŸå¤±ã€‚

ä¸¾ä¸ªä¾‹å­ï¼Œå½“ä½ å†™äº†ä¸€å †çš„ `Widget` è¢«åŠ è½½æ—¶ï¼Œç¬¬ä¸€æ¬¡ä¼šå¯¹åº”äº§ç”Ÿå‡º `Element` ï¼Œä¹‹å  `Element` æŒæœ‰äº† `Widget` å’Œ `RenderObject` ã€‚

ç®€å•çš„æ¥è¯´ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ç”»é¢çš„æ”¹å˜ï¼Œå°±æ˜¯ä¹‹å `Widget` çš„å˜åŒ–è¢«æ›´æ–°åˆ°  `RenderObject` ï¼Œè€Œåœ¨ Flutter ä¸­èƒ½å¤Ÿè·¨å¸§ä¿å­˜çš„ `State` ï¼Œå…¶å®ä¹Ÿæ˜¯è¢« `Element` æ‰€æŒæœ‰ï¼Œä»è€Œå¯ä»¥ç”¨æ¥è·¨ `Widget` ä¿å­˜æ•°æ®ã€‚

> æ‰€ä»¥ `Widget` çš„åµŒå¥—ä¸€èˆ¬ä¸ä¼šå¸¦æ¥æ€§èƒ½é—®é¢˜ï¼Œæ¯ä¸ª `Widget` çŠ¶æ€éƒ½ä»£è¡¨äº†ä¸€å¸§ï¼Œå¯ä»¥ç†è§£ä¸ºè¿™ä¸ªâ€œé…ç½®ä¿¡æ¯â€ä»£è¡¨äº†å½“å‰çš„ä¸€ä¸ªç”»é¢ï¼Œåœ¨ `Widget` çš„èƒŒåï¼ŒåµŒå¥—çš„ `Padding` ã€`Align` è¿™äº›æ§ä»¶ï¼Œæœ€ååªæ˜¯ `canvas` æ—¶çš„ä¸€ä¸ªâ€œåç§»è®¡ç®—â€è€Œå·²ã€‚

æ‰€ä»¥ç†è§£ `Widget` æ§ä»¶å¾ˆé‡è¦ï¼Œ`Widget` ä¸æ˜¯çœŸæ­£çš„ `View` ï¼Œå®ƒåªæ˜¯é…ç½®ä¿¡æ¯ï¼Œåªæœ‰ç†è§£äº†è¿™ç‚¹ï¼Œä½ æ‰ä¼šå‘ç° Flutter æ›´å¹¿é˜”çš„å¤§é™†ï¼Œæ¯”å¦‚ï¼š

- Flutter çš„æ§ä»¶æ˜¯ä» `Elemnt` æ‰å¼€å§‹æ˜¯çœŸæ­£çš„å·¥ä½œå¯¹è±¡ï¼›
- è¦çœ‹ä¸€ä¸ª `Widget` çš„ç•Œé¢æ•ˆæœæ˜¯æ€ä¹ˆå®ç°ï¼Œåº”è¯¥å»çœ‹å®ƒå¯¹åº”çš„ `RenderObejcet` æ˜¯æ€ä¹ˆç»˜åˆ¶çš„ï¼›
- è¦çŸ¥é“ä¸åŒå †æ ˆæˆ–è€…æ¨¡å—çš„é¡µé¢ä¸ºä»€ä¹ˆä¸ä¼šäº’ç›¸å¹²æ‰°ï¼Œå°±å»çœ‹å®ƒçš„ `Layer` æ˜¯ä»€ä¹ˆé€»è¾‘ï¼›
- æ˜¯ä¸æ˜¯æ‰€æœ‰çš„ `Widget`  éƒ½æœ‰ `RenderObejcet` ï¼Ÿ `Widget` ã€ `Elemnt` ã€`RenderObejcet` ã€`Layer` çš„å¯¹åº”å…³ç³»æ˜¯ä»€ä¹ˆï¼Ÿ

**è¿™äº›å†…å®¹æ‰æ˜¯å­¦ Flutter éœ€è¦å¦‚ç†è§£å’Œèæ±‡è´¯é€šçš„ï¼Œå½“ä½ äº†è§£äº†å…³äº** **`Widget`** **èƒŒåçš„è¿™ä¸€å¥—å¤æ‚çš„é€»è¾‘æ”¯æ’‘åï¼Œä½ å°±ä¼šå‘ç° Flutter æ˜¯é‚£ä¹ˆçš„ç®€å•ï¼Œåœ¨å®ç°å¤æ‚æ§ä»¶ä¸Šæ˜¯é‚£ä¹ˆåœ°ç®€å•ï¼Œ****`Canvas`** **ç»„åˆèµ·æ¥çš„èƒ½åŠ›æ˜¯çœŸçš„é¦™ã€‚**

å½“ç„¶å…·ä½“å±•å¼€è¿™éƒ¨åˆ†å†…å®¹ä¸æ˜¯ä¸‰è¨€ä¸¤è¯­å¯ä»¥è§£é‡Šå®Œï¼Œåœ¨æˆ‘å‡ºç‰ˆçš„ **ã€ŠFlutterå¼€å‘å®æˆ˜è¯¦è§£ã€‹** ä¸­ç¬¬ä¸‰ç« å’Œç¬¬å››ç« å°±ç€é‡è®²è§£çš„å†…å®¹ï¼Œä¹Ÿæ˜¯è¿™å‡ºç‰ˆæœ¬ä¹¦ä¸»è¦çš„çµé­‚ä¹‹å¤„ï¼Œè¿™éƒ¨åˆ†å†…å®¹ä¸ä¼šå› ä¸º Flutter çš„ç‰ˆæœ¬è¿­ä»£è€Œè¿‡æ—¶çš„å†…å®¹ã€‚

> è¿™ç®—åšäº†ä¸ªå°å¹¿å‘Šï¼Ÿï¼Ÿ

#### 3ã€Flutter æ˜¯ä¸ªæœ‰å‘çš„æ¡†æ¶

æœ€åè®²è®² Flutter çš„å‘ï¼Œäº‹å®ä¸Šæ²¡æœ‰ä»€ä¹ˆæ¡†æ¶æ˜¯æ²¡æœ‰å‘çš„ï¼Œå¦‚æœæ¡†æ¶å®Œç¾å¾—æ²¡æœ‰é—®é¢˜ï¼Œé‚£æˆ‘ä»¬ç«äº‰åŠ›åè€Œä¼šè¶Šæ¥è¶Šå¼±ï¼Œå¯æ›¿æ¢æ€§ä¼šæ›´é«˜ã€‚

> è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆä¸€å¼€å§‹ Andorid å’Œ iOS å¼€å‘å¾ˆç«çƒ­ï¼Œè€Œç°åœ¨å®¢æˆ·ç«¯å¼€å‘æ‹›è˜å›å½’ç†æ€§çš„åŸå› ï¼Œå› ä¸ºè¿™ä¸ªé¢†åŸŸå·²ç»è¶Šæ¥è¶Šæˆç†Ÿï¼Œè‡ªç„¶å°±â€œå·â€äº†ã€‚

äº‹å®ä¸Šæˆ‘ä¸€ç›´è§‰å¾—ä½¿ç”¨æ¡†æ¶çš„æˆ‘ä»¬å¹¶æ²¡æœ‰ä»€ä¹ˆç‰¹æ®Šä»·å€¼ï¼Œè€Œè§£å†³ä½¿ç”¨æ¡†æ¶æ‰€å¸¦æ¥çš„é—®é¢˜æ‰æ˜¯æˆ‘ä»¬ç‰¹æœ‰çš„ä»·å€¼ã€‚

è€Œ Flutter çš„é—®é¢˜ä¹Ÿä¸å°‘ï¼Œæ¯”å¦‚:

- `WebView` çš„é—®é¢˜ï¼šFlutter ç‰¹æœ‰çš„ UI æœºåˆ¶ï¼Œå¯¼è‡´äº† Flutter éœ€è¦é€šè¿‡ç‰¹æ®Šçš„æ–¹å¼æ¥æ¥å…¥æ¯”å¦‚ `WebView` ã€`MapView` è¿™æ ·çš„æ§ä»¶ï¼Œè€Œè¿™éƒ¨åˆ†ä¹Ÿå¯¼è‡´äº†æ¥å…¥åä¸æ–­æ€§èƒ½ã€é”®ç›˜ã€è¾“å…¥æ¡†ç­‰çš„æŠ€æœ¯é—®é¢˜ï¼Œå…·ä½“å¯ä»¥å‚è€ƒï¼š[ã€ŠHybrid Composition æ·±åº¦è§£æã€‹](https://links.jianshu.com/go?to=https%3A%2F%2Fjuejin.cn%2Fpost%2F6858473695939084295) å’Œ [ã€Š Android PlatformView å’Œé”®ç›˜é—®é¢˜ã€‹](https://links.jianshu.com/go?to=https%3A%2F%2Fjuejin.cn%2Fpost%2F6844904070906380296) ã€‚
- å›¾ç‰‡å¤„ç†å’ŒåŠ è½½ï¼š**åœ¨å›¾ç‰‡å¤„ç†å’ŒåŠ è½½ä¸Š Flutter çš„èƒ½åŠ›æ— ç–‘æ˜¯æ¯”è¾ƒå¼±çš„**ï¼ŒåŒæ—¶å¯¹äºå•ä¸ªå¤§å›¾ç‰‡çš„åŠ è½½å’Œå¤§é‡å›¾ç‰‡åˆ—è¡¨çš„æ˜¾ç¤ºå¤„ç†ä¸Šï¼Œ**Flutter å¾ˆå®¹æ˜“å‡ºç°****å†…å­˜****å’Œéƒ¨åˆ†** **GPU** **æº¢å‡ºçš„é—®é¢˜**ã€‚è€Œè¿™éƒ¨åˆ†é—®é¢˜å¤„ç†èµ·æ¥ç‰¹åˆ«éº»çƒ¦ï¼Œå¦‚æœéœ€è¦å€Ÿç”¨åŸç”Ÿå¹³å°æ¥è§£å†³ï¼Œåˆ™éœ€è¦é€šè¿‡å¤–ç•Œçº¹ç†çš„æ–¹å¼æ¥å®Œæˆï¼Œè€Œè¿™ä¸ªå®ç°çš„ç»´æŠ¤æˆæœ¬å¹¶ä¸ä½ã€‚
- æ··åˆå¼€å‘æ˜¯é¿å…ä¸äº†çš„è¯é¢˜ï¼šå› ä¸º Flutter çš„æ§ä»¶å’Œé¡µé¢å †æ ˆéƒ½è„±ç¦»åŸç”Ÿå¹³å°ï¼Œæ‰€ä»¥æ··åˆå¼€å‘çš„ç»“æœå°±ä¼šå¯¼è‡´ç»´æŠ¤æˆæœ¬çš„æé«˜ï¼Œç°åœ¨è¾ƒå¤šä½¿ç”¨çš„ `flutter_boost` å’Œ `flutter_thrio` éƒ½æ— æ³•è¾ƒå¥½çš„çœŸæ­£è§£å†³æ··åˆå¼€å‘ä¸­çš„ç—›ç‚¹ï¼Œæ‰€ä»¥å¯¹äº Flutter æ¥è¯´è¿™ä¹Ÿæ˜¯ä¸€å¤§è€ƒéªŒã€‚

image

**ç„¶è€Œäº‹å®ä¸Šåœ¨æˆ‘æ”¶åˆ°å…³äº Flutter çš„é—®é¢˜é‡Œï¼Œåè€Œå¤§éƒ¨åˆ†å’Œ Flutter æ˜¯æ²¡æœ‰å…³ç³»çš„**ï¼Œæ¯”å¦‚ï¼š

- â€œ`flutter doctor` è¿è¡Œä¹‹åå¡ä½ä¸åŠ¨â€
- â€œ`flutter run` è¿è¡Œä¹‹åå‡ºç°æŠ¥é”™â€
- â€œ`flutter pub get` è¿è¡Œä¹‹åä¸ºä»€ä¹ˆæç¤º dart ç‰ˆæœ¬ä¸å¯¹â€
- â€œè¿è¡Œåå‡ºç° Gradle æŠ¥é”™ï¼Œæ˜¾ç¤º timeout ä¹‹ç±»é—®é¢˜â€
- â€œiOS æ²¡åŠæ³•è¿è¡Œåˆ°çœŸæœºä¸Šâ€
- â€œxxxè¿™æ ·çš„æ§ä»¶æœ‰æ²¡æœ‰ç°æˆçš„â€ Â·Â·Â·Â·

è¯´å®è¯ï¼Œå¦‚æœæ˜¯è¿™äº›é—®é¢˜ï¼Œæˆ‘è§‰å¾—è¿™å¹¶ä¸æ˜¯ Flutter çš„é—®é¢˜ï¼Œå¤§éƒ¨åˆ†æ—¶å€™æ˜¯çœ‹ log ã€çœ‹æ–‡æ¡£å’Œç½‘ç»œçš„é—®é¢˜ï¼Œç”šè‡³ä»…ä»…æ˜¯æœç´¢å¼•æ“æ£€ç´¢æŠ€æœ¯çš„é—®é¢˜ã€‚ã€‚ã€‚ã€‚

image

è™½ç„¶ Flutter æœ‰ç€è¿™æ ·é‚£æ ·çš„é—®é¢˜ï¼Œä½†æ˜¯ç»¼åˆè€ƒè™‘ä¸‹æ¥ï¼Œå®ƒå¯¹æˆ‘æ¥ç°é˜¶æ®µç¡®å®æ˜¯æœ€åˆé€‚çš„ UI æ¡†æ¶ã€‚

#### 4ã€å£°æ˜å¼UI

Android å’Œ Flutter é‡‡ç”¨ä¸¤ç§ä¸åŒçš„ç¼–ç¨‹é£æ ¼æ¥å®ŒæˆUIç¼–ç¨‹ï¼Œåˆ†åˆ«æ˜¯ï¼šå‘½ä»¤å¼ (ä¸»åŠ¨è®¾ç½®) å’Œ å£°æ˜å¼ (è¢«åŠ¨å˜åŒ–)ã€‚Flutterä¸ç”¨å…³å¿ƒå…·ä½“çš„è®¾ç½®ç»†èŠ‚ï¼Œåªéœ€ é…ç½®å¥½çŠ¶æ€(æ•°æ®) å’Œ ç•Œé¢(æ§ä»¶) çš„å…³ç³»ï¼ŒFlutter ä¼šæ ¹æ®çŠ¶æ€å˜åŒ– è‡ªåŠ¨æ›´æ–°UIã€‚ä¸€ä¸ªé€šä¿—æ˜“æ‡‚çš„æ¯”å–»ğŸ˜ï¼šå‘½ä»¤å¼ â†’ ä½ è®©TAåŠ¨ï¼Œå£°æ˜å¼ â†’ TAè‡ªå·±åŠ¨ã€‚

## **FlutteråŸºç¡€å†…å®¹**

### å®˜æ–¹æ–‡æ¡£

https://docs.flutter.dev/ui

###  æ¶æ„ä»‹ç»

https://blog.csdn.net/weixin_51109304/article/details/131640287

### Flutter**ç›®å½•ç»“æ„ä»‹ç»** 

![img](Flutterç¬”è®°.assets/17272488831842.png)

ä»¥ä¸‹å‡ ä¸ªæ–‡ä»¶å¤¹æ¯”è¾ƒé‡è¦ï¼š

| æ–‡ä»¶å¤¹               | ä½œç”¨                                                         |
| -------------------- | ------------------------------------------------------------ |
| android              | androidå¹³å°ç›¸å…³ä»£ç ï¼ŒMainActivity ï¼Œ Plugins                 |
| ios                  | ioså¹³å°ç›¸å…³ä»£ç                                               |
| linux                | Linuxå¹³å°ç›¸å…³çš„ä»£ç                                           |
| macos                | macoså¹³å°ç›¸å…³çš„ä»£ç                                           |
| web                  | webç›¸å…³çš„ä»£ç                                                 |
| Windows              | windowsç›¸å…³çš„ä»£ç                                             |
| lib                  | flutterç›¸å…³ä»£ç ï¼Œæˆ‘ä»¬ç¼–å†™çš„ä»£ç å°±åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹                |
| test                 | ç”¨äºå­˜æ”¾æµ‹è¯•ä»£ç                                              |
| pubspec.yaml         | é…ç½®æ–‡ä»¶ï¼Œä¸€èˆ¬å­˜æ”¾ä¸€äº›ç¬¬ä¸‰æ–¹åº“çš„ä¾èµ–ã€‚                       |
| analysis_option.yaml | åˆ†ædartè¯­æ³•çš„æ–‡ä»¶ï¼Œè€é¡¹ç›®å‡çº§æˆæ–°é¡¹ç›®æœ‰è­¦å‘Šä¿¡æ¯çš„è¯å¯ä»¥åˆ æ‰ |
|                      | æ­¤æ–‡ä»¶                                                       |

### **Flutteré¡¹ç›®ç»“æ„**

```Bash
hello_flutter/
â”‚â”€â”€ .dart_tool/                                                                - Flutterè‡ªåŠ¨ç”Ÿæˆçš„é…ç½®å’Œæ„å»ºè¾“å‡ºï¼Œä¸€èˆ¬ä¸éœ€è¦å¼€å‘è€…å»ä¿®æ”¹
â”‚â”€â”€ .idea/                                                                                - IDEAçš„é…ç½®ä¿¡æ¯ï¼Œä¸ç”¨ç®¡
â”œâ”€â”€ android/                  - Android åŸç”Ÿé¡¹ç›®æ–‡ä»¶å¤¹
â”œâ”€â”€ build/                    - å­˜æ”¾æ„å»ºäº§ç‰©çš„æ–‡ä»¶å¤¹ï¼Œä¸ç”¨ç®¡
â”œâ”€â”€ ios/                      - iOS åŸç”Ÿé¡¹ç›®æ–‡ä»¶å¤¹
â”œâ”€â”€ lib/                      - â­å­˜æ”¾Flutteræºä»£ç ï¼Œå¤§éƒ¨åˆ†å¼€å‘ä¼šåœ¨è¿™ä¸ªç›®å½•ä¸‹è¿›è¡Œ
â”‚   â”œâ”€â”€ main.dart             - â­Flutter åº”ç”¨ç¨‹åºçš„ä¸»è¦å…¥å£
â”œâ”€â”€ linux/                                                                                - Linuxå¹³å°ç›¸å…³ä»£ç åŠé…ç½®æ–‡ä»¶
â”œâ”€â”€ macos/                                                                                - Macå¹³å°ç›¸å…³ä»£ç åŠé…ç½®æ–‡ä»¶
â”œâ”€â”€ test/                                                                                        - æµ‹è¯•æ–‡ä»¶
â”œâ”€â”€ web/                                                                                        - Webå¹³å°ç›¸å…³ä»£ç åŠé…ç½®æ–‡ä»¶
â”œâ”€â”€ windows/                                                                        - Windowså¹³å°ç›¸å…³ä»£ç åŠé…ç½®æ–‡ä»¶
â”œâ”€â”€ .metadata                                                                        - Dartç¼–è¯‘å™¨ç”Ÿæˆçš„å…ƒæ•°æ®æ–‡ä»¶ï¼ŒåŒ…å«æœ‰å…³é¡¹ç›®çš„ç¼–è¯‘å’Œä¾èµ–ï¼ŒmetadataæŠ¥é”™ï¼ŸæŠ¥é”™ç›´æ¥åˆ é™¤è®©Darté‡æ–°ç¼–è¯‘
â”œâ”€â”€ analysis_options.yaml                        - é…ç½®é™æ€ä»£ç åˆ†æå·¥å…·ï¼Œå¯åœ¨æ­¤å®šä¹‰ä»£ç é£æ ¼ã€ç¦ç”¨å’Œå¯ç”¨ç‰¹å®šè­¦å‘Šå’Œé”™è¯¯æ£€æŸ¥
â”œâ”€â”€ hello_flutter.iml                                        - IntelliJ IDEA é¡¹ç›®æ–‡ä»¶æ–‡ä»¶ï¼Œæè¿°æ¨¡å—é¡¹ç›®å’Œä¾èµ–é¡¹ï¼ŒåŠå…¶å®ƒé…ç½®ä¿¡æ¯ï¼Œç”¨äºç¡®ä¿é¡¹ç›®å¯ä»¥åœ¨ IntelliJ IDEA æˆ– Android Studio ä¸­æ­£ç¡®åŠ è½½å’Œç¼–è¯‘ã€‚
â”œâ”€â”€ pubspec.lock                                                        - é¡¹ç›®ä¾èµ–é¡¹çš„é”å®šä¿¡æ¯ï¼Œç”±pubspec.yamlè‡ªåŠ¨ç”Ÿæˆï¼Œç”¨äºç¡®ä¿é¡¹ç›®åœ¨ä¸åŒç¯å¢ƒä½¿ç”¨ç›¸åŒçš„ä¾èµ–é¡¹ç‰ˆæœ¬
â””â”€â”€ pubspec.yaml              - â­ Flutteré¡¹ç›®é…ç½®æ–‡ä»¶ï¼ŒåŒ…æ‹¬ä¾èµ–ã€æ’ä»¶ã€èµ„æºç­‰
```

### **Flutterå…¥å£æ–‡ä»¶ã€å…¥å£æ–¹æ³•** 

æ¯ä¸€ä¸ªflutteré¡¹ç›®çš„libç›®å½•é‡Œé¢éƒ½æœ‰ä¸€ä¸ªmain.dartè¿™ä¸ªæ–‡ä»¶å°±æ˜¯flutterçš„å…¥å£æ–‡ä»¶ï¼Œ

main.darté‡Œé¢çš„

```Bash
void main(){ 
runApp(MyApp()); 
} 
ä¹Ÿå¯ä»¥ç®€å†™ 
void main()=>runApp(MyApp()); 
```

å…¶ä¸­çš„mainæ–¹æ³•æ˜¯dartçš„å…¥å£æ–¹æ³•ã€‚runAppæ–¹æ³•æ˜¯flutterçš„å…¥å£æ–¹æ³•ã€‚ 

MyAppæ˜¯è‡ªå®šä¹‰çš„ä¸€ä¸ªç»„ä»¶ã€‚

### **FlutteræŠŠå†…å®¹å•ç‹¬æŠ½ç¦»æˆä¸€ä¸ªç»„ä»¶**

åœ¨Flutterä¸­è‡ªå®šä¹‰ç»„ä»¶å…¶å®å°±æ˜¯ä¸€ä¸ªç±»ï¼Œè¿™ä¸ªç±»éœ€è¦ç»§æ‰¿StatelessWidget/StatefulWidget 

å‰æœŸæˆ‘ä»¬éƒ½ç»§æ‰¿StatelessWidgetã€‚åæœŸç»™å¤§å®¶è®²StatefulWidgetçš„ä½¿ç”¨ã€‚ 

**StatelessWidget** æ˜¯æ— çŠ¶æ€ç»„ä»¶ï¼ŒçŠ¶æ€ä¸å¯å˜çš„widget 

**StatefulWidget** æ˜¯æœ‰çŠ¶æ€ç»„ä»¶ï¼ŒæŒæœ‰çš„çŠ¶æ€å¯èƒ½åœ¨widgetç”Ÿå‘½å‘¨æœŸæ”¹å˜

ç±»åå‰çš„ ä¸‹åˆ’çº¿_ ç”¨äºæ ‡è¯†ç±»æ˜¯ä¸€ä¸ªç§æœ‰ç±»ï¼Œä¸èƒ½åœ¨å…¶å®ƒæ–‡ä»¶ä¸­è®¿é—®

### **MaterialApp å’Œ Scaffold**

**1ã€MaterialApp** 

MaterialAppæ˜¯ä¸€ä¸ªæ–¹ä¾¿çš„Widgetï¼Œå®ƒå°è£…äº†åº”ç”¨ç¨‹åºå®ç°Material Designæ‰€éœ€è¦çš„ä¸€äº›Widgetã€‚ä¸€ 

èˆ¬ä½œä¸º**é¡¶å±‚widget**ä½¿ç”¨ã€‚

**å¸¸ç”¨çš„å±æ€§ï¼š** 

homeï¼ˆä¸»é¡µï¼‰ 

titleï¼ˆæ ‡é¢˜ï¼‰ 

colorï¼ˆé¢œè‰²ï¼‰ 

themeï¼ˆä¸»é¢˜ï¼‰ 

routesï¼ˆè·¯ç”±ï¼‰ 

... 

**2ã€Scaffold** 

Scaffoldæ˜¯Material Designå¸ƒå±€ç»“æ„çš„åŸºæœ¬å®ç°ã€‚æ­¤ç±»æä¾›äº†ç”¨äºæ˜¾ç¤ºdrawerã€snackbarå’Œåº•éƒ¨sheet 

çš„APIã€‚ 

**Scaffold æœ‰ä¸‹é¢å‡ ä¸ªä¸»è¦å±æ€§ï¼š** 

appBar - æ˜¾ç¤ºåœ¨ç•Œé¢é¡¶éƒ¨çš„ä¸€ä¸ª AppBarã€‚ 

body - å½“å‰ç•Œé¢æ‰€æ˜¾ç¤ºçš„ä¸»è¦å†…å®¹ Widgetã€‚ 

drawer - æŠ½å±‰èœå•æ§ä»¶ã€‚ 

... 

ä¾‹å¦‚ï¼š

```Bash
import 'package:flutter/material.dart'; 
void main() { 
runApp(MaterialApp( 
home: Scaffold( 
appBar: AppBar(title: const Text("ä½ å¥½Flutter")), 
body: const Center( 
child: Text( 
"æˆ‘æ˜¯ä¸€ä¸ªæ–‡æœ¬", 
textDirection: TextDirection.ltr, 
style: TextStyle( 
fontSize: 40.0, 
// color: Colors.yellow, 
color: Color.fromRGBO(244, 233, 121, 0.5), 
), 
), 
), 
), 
)); 
}
```

## **Containerå®¹å™¨ç»„ä»¶**

| åç§°               | åŠŸèƒ½                                                         |
| ------------------ | ------------------------------------------------------------ |
| alignment          | topCenterï¼šé¡¶éƒ¨å±…ä¸­å¯¹é½ topLeftï¼šé¡¶éƒ¨å·¦å¯¹é½ topRightï¼šé¡¶éƒ¨å³å¯¹é½ centerï¼šæ°´å¹³å‚ç›´å±…ä¸­å¯¹é½ centerLeftï¼šå‚ç›´å±…ä¸­æ°´å¹³å±…å·¦å¯¹é½ centerRightï¼šå‚ç›´å±…ä¸­æ°´å¹³å±…å³å¯¹é½ bottomCenteråº•éƒ¨å±…ä¸­å¯¹é½ bottomLeftï¼šåº•éƒ¨å±…å·¦å¯¹é½  bottomRightï¼šåº•éƒ¨å±…å³å¯¹é½ |
| decoration(è£…é¥°å™¨) | decoration: BoxDecoration( color: Colors.blue, border: Border.all( color:  Colors.red, width: 2.0),  borderRadius:BorderRadius.circular((8)),// åœ†è§’   boxShadow: [ BoxShadow( color: Colors.blue, offset: Offset(2.0, 2.0),  blurRadius: 10.0, ) ], )  LinearGradient èƒŒæ™¯çº¿æ€§æ¸å˜  RadialGradientå¾„å‘æ¸å˜  gradient: LinearGradient( colors: [Colors.red, Colors.orange], ), |
| margin             | marginå±æ€§æ˜¯è¡¨ç¤ºContainerä¸å¤–éƒ¨å…¶ä»–ç»„ä»¶çš„è·ç¦»ã€‚ EdgeInsets.all(20.0), |
| padding            | paddingå°±æ˜¯Containerçš„å†…è¾¹è·ï¼ŒæŒ‡Containerè¾¹ç¼˜ä¸Childä¹‹é—´çš„è·ç¦»  padding:EdgeInsets.all(10.0) |
| transform          | è®©Containerå®¹æ˜“è¿›è¡Œä¸€äº›æ—‹è½¬ä¹‹ç±»çš„transform: Matrix4.rotationZ(0.2) |
| height             | å®¹å™¨é«˜åº¦                                                     |
| width              | å®¹å™¨å®½åº¦                                                     |
| child              | å®¹å™¨å­å…ƒç´                                                    |

decoration(è£…é¥°å™¨)çš„æ¼”ç¤ºï¼š

```Bash
Container(
  width: 100,
  height: 100,
  decoration: BoxDecoration(
    color: Colors.blue,  // è®¾ç½®èƒŒæ™¯é¢œè‰²ä¸ºè“è‰²
    borderRadius: BorderRadius.circular(10),  // è®¾ç½®è¾¹æ¡†åœ†è§’
    border: Border.all(
      color: Colors.black,  // è®¾ç½®è¾¹æ¡†é¢œè‰²ä¸ºé»‘è‰²
      width: 2,  // è®¾ç½®è¾¹æ¡†å®½åº¦ä¸º2åƒç´ 
    ),
    boxShadow: [
      BoxShadow(
        color: Colors.grey.withOpacity(0.5),  // è®¾ç½®é˜´å½±é¢œè‰²å’Œé€æ˜åº¦
        spreadRadius: 5,  // é˜´å½±çš„æ‰©æ•£åŠå¾„
        blurRadius: 7,  // é˜´å½±çš„æ¨¡ç³ŠåŠå¾„
        offset: Offset(0, 3),  // é˜´å½±çš„åç§»é‡
      ),
    ],
  ),
  child: Center(
    child: Text(
      'BoxDecorationç¤ºä¾‹',
      style: TextStyle(
        color: Colors.white,
        fontWeight: FontWeight.bold,
      ),
    ),
  ),
)
```

## **Textç»„ä»¶**

| åç§°            | åŠŸèƒ½                                                         |
| --------------- | ------------------------------------------------------------ |
| textAlign       | æ–‡æœ¬å¯¹é½æ–¹å¼ï¼ˆcenterå±…ä¸­ï¼Œleftå·¦å¯¹é½ï¼Œrightå³å¯¹é½ï¼Œjustfyä¸¤ç«¯å¯¹é½ï¼‰ |
| textDirection   | æ–‡æœ¬æ–¹å‘ï¼ˆlträ»å·¦è‡³å³ï¼Œrtlä»å³è‡³å·¦ï¼‰                         |
| overflow        | æ–‡å­—è¶…å‡ºå±å¹•ä¹‹åçš„å¤„ç†æ–¹å¼ï¼ˆclipè£å‰ªï¼Œfadeæ¸éšï¼Œellipsisçœç•¥å·ï¼‰ |
| textScaleFactor | å­—ä½“æ˜¾ç¤ºå€ç‡                                                 |
| maxLines        | æ–‡å­—æ˜¾ç¤ºæœ€å¤§è¡Œæ•°                                             |
| style           | å­—ä½“çš„æ ·å¼è®¾ç½®                                               |

ä¸‹é¢æ˜¯ TextStyle çš„å‚æ•° ï¼š 

| åç§°            | åŠŸèƒ½                                                         |
| --------------- | ------------------------------------------------------------ |
| decoration      | æ–‡å­—è£…é¥°çº¿ï¼ˆnoneæ²¡æœ‰çº¿ï¼ŒlineThroughåˆ é™¤çº¿ï¼Œoverlineä¸Šåˆ’çº¿ï¼Œunderlineä¸‹åˆ’çº¿ï¼‰ |
| decorationColor | æ–‡å­—è£…é¥°çº¿é¢œè‰²                                               |
| decorationStyle | æ–‡å­—è£…é¥°çº¿é£æ ¼ï¼ˆ[dashed,dotted]è™šçº¿ï¼Œdoubleä¸¤æ ¹çº¿ï¼Œsolidä¸€æ ¹å®çº¿ï¼Œ wavyæ³¢æµªçº¿ï¼‰ |
| wordSpacing     | å•è¯é—´éš™ï¼ˆå¦‚æœæ˜¯è´Ÿå€¼ï¼Œä¼šè®©å•è¯å˜å¾—æ›´ç´§å‡‘                     |
| letterSpacing   | å­—æ¯é—´éš™ï¼ˆå¦‚æœæ˜¯è´Ÿå€¼ï¼Œä¼šè®©å­—æ¯å˜å¾—æ›´ç´§å‡‘ï¼‰                   |
| fontStyle       | æ–‡å­—æ ·å¼ï¼ˆitalicæ–œä½“ï¼Œnormalæ­£å¸¸ä½“ï¼‰                         |
| fontSize        | æ–‡å­—å¤§å°                                                     |
| color           | æ–‡å­—é¢œè‰²                                                     |
| fontWeight      | å­—ä½“ç²—ç»†ï¼ˆboldç²—ä½“ï¼Œnormalæ­£å¸¸ä½“ï¼‰                           |

## **å›¾ç‰‡ç»„ä»¶**

Flutter ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ Image ç»„ä»¶æ¥åŠ è½½å¹¶æ˜¾ç¤ºå›¾ç‰‡ Image çš„æ•°æ®æºå¯ä»¥æ˜¯assetã€æ–‡ä»¶ã€å†…å­˜ä»¥ 

åŠç½‘ç»œ ã€‚

Image.assetï¼Œ æœ¬åœ°å›¾ç‰‡ 

Image.network è¿œç¨‹å›¾ç‰‡ 

Imageç»„ä»¶çš„å¸¸ç”¨å±æ€§:

| åç§°                  | ç±»å‹      | åŠŸèƒ½                                                         |
| --------------------- | --------- | ------------------------------------------------------------ |
| alignment             | Alignment | å›¾ç‰‡çš„å¯¹é½æ–¹å¼                                               |
| colorå’ŒcolorBlendMode |           | è®¾ç½®å›¾ç‰‡çš„èƒŒæ™¯é¢œè‰²ï¼Œé€šå¸¸å’ŒcolorBlendModeé…åˆä¸€èµ·ä½¿ ç”¨ï¼Œè¿™æ ·å¯ä»¥æ˜¯å›¾ç‰‡é¢œè‰²å’ŒèƒŒæ™¯è‰²æ··åˆã€‚ç±»ä¼¼äºåŠ äº†ä¸€å±‚åˆ«çš„é¢œè‰²çš„è’™ç‰ˆ |
| fit                   | BoxFit    | fitå±æ€§ç”¨æ¥æ§åˆ¶å›¾ç‰‡çš„æ‹‰ä¼¸å’ŒæŒ¤å‹ï¼Œè¿™éƒ½æ˜¯æ ¹æ®çˆ¶å®¹å™¨æ¥çš„ã€‚  BoxFit.fill:å…¨å›¾æ˜¾ç¤ºï¼Œå›¾ç‰‡ä¼šè¢«æ‹‰ä¼¸ï¼Œå¹¶å……æ»¡çˆ¶å®¹å™¨ã€‚  BoxFit.contain:å…¨å›¾æ˜¾ç¤ºï¼Œæ˜¾ç¤ºåŸæ¯”ä¾‹ï¼Œå¯èƒ½ä¼šæœ‰ç©ºéš™ã€‚  BoxFit.coverï¼šæ˜¾ç¤ºå¯èƒ½æ‹‰ä¼¸ï¼Œå¯èƒ½è£åˆ‡ï¼Œå……æ»¡ï¼ˆå›¾ç‰‡è¦å……æ»¡æ•´ä¸ªå®¹å™¨ï¼Œè¿˜ä¸å˜å½¢ï¼‰ã€‚  BoxFit.fitWidthï¼šå®½åº¦å……æ»¡ï¼ˆæ¨ªå‘å……æ»¡ï¼‰ï¼Œæ˜¾ç¤ºå¯èƒ½æ‹‰ä¼¸ï¼Œå¯èƒ½è£åˆ‡ã€‚  BoxFit.fitHeight ï¼šé«˜åº¦å……æ»¡ï¼ˆç«–å‘å……æ»¡ï¼‰,æ˜¾ç¤ºå¯èƒ½æ‹‰ä¼¸ï¼Œå¯èƒ½è£åˆ‡ã€‚  BoxFit.scaleDownï¼šæ•ˆæœå’Œcontainå·®ä¸å¤šï¼Œä½†æ˜¯æ­¤å±æ€§ä¸å…è®¸æ˜¾ç¤ºè¶…è¿‡æºå›¾ç‰‡å¤§å°ï¼Œå¯å°ä¸å¯å¤§ã€‚ |
| repeat                | å¹³é“º      | ImageRepeat.repeat : æ¨ªå‘å’Œçºµå‘éƒ½è¿›è¡Œé‡å¤ï¼Œç›´åˆ°é“ºæ»¡æ•´ä¸ªç”»å¸ƒã€‚ ImageRepeat.repeatX: æ¨ªå‘é‡å¤ï¼Œçºµå‘ä¸é‡å¤ã€‚  ImageRepeat.repeatYï¼šçºµå‘é‡å¤ï¼Œæ¨ªå‘ä¸é‡å¤ã€‚ |
| width                 |           | å®½åº¦ ä¸€èˆ¬ç»“åˆClipOvalæ‰èƒ½çœ‹åˆ°æ•ˆæœ                            |
| height                |           | é«˜åº¦ ä¸€èˆ¬ç»“åˆClipOvalæ‰èƒ½çœ‹åˆ°æ•ˆæœ                            |

### åŠ è½½è¿œç¨‹å›¾ç‰‡

```Bash
child: Image.network( 
"https://www.itying.com/themes/itying/images/ionic4.png", 
fit: BoxFit.cover, 
),
```

### **åŠ è½½æœ¬åœ°å›¾ç‰‡** 

**1ã€é¡¹ç›®æ ¹ç›®å½•æ–°å»ºimagesæ–‡ä»¶å¤¹,imagesä¸­æ–°å»º2.x 3.xå¯¹åº”çš„æ–‡ä»¶**

![img](Flutterç¬”è®°.assets/17272488831843.png)

**2ã€ç„¶åï¼Œæ‰“å¼€pubspec.yaml å£°æ˜ä¸€ä¸‹æ·»åŠ çš„å›¾ç‰‡æ–‡ä»¶ï¼Œ æ³¨æ„: ç©ºæ ¼**

![img](Flutterç¬”è®°.assets/17272488831844.png)

**3ã€ä½¿ç”¨**

```Bash
class MyApp extends StatelessWidget { 
const MyApp({Key? key}) : super(key: key); 
@override 
Widget build(BuildContext context) { 
return Center( 
child: ClipOval( 
child: Image.asset( 
"images/a.jpeg", 
width: 150.0, 
height: 150.0, 
fit: BoxFit.cover), 
), 
); 
} 
} 
```

### BoxDecorationå®ç°åœ†å½¢å›¾ç‰‡

```Bash
decoration: BoxDecoration( 
color: Colors.yellow, 
borderRadius: BorderRadius.circular(75), 
image: const DecorationImage( 
image: NetworkImage( 
"https://www.itying.com/themes/itying/images/ionic4.png", 
), 
fit: BoxFit.cover)), 
), 
);
```

### **ClipOvalå®ç°åœ†å½¢å›¾ç‰‡**

ClipOvalç”¨äºå°†å…¶å­éƒ¨ä»¶ï¼ˆwidgetï¼‰è£å‰ªä¸ºæ¤­åœ†å½¢ï¼ˆæ¤­åœ†å½¢çš„åŒºåŸŸå°†æ˜¾ç¤ºå­éƒ¨ä»¶ï¼Œè€Œå…¶ä»–éƒ¨åˆ†å°†è¢«è£å‰ªæ‰ï¼‰ï¼Œä»¥åˆ›å»ºæ¤­åœ†å½¢çš„è§†è§‰æ•ˆæœã€‚

```Bash
child: ClipOval( 
child: Image.network( 
"https://www.itying.com/themes/itying/images/ionic4.png", 
width: 150.0, 
height: 150.0, 
fit: BoxFit.cover), 
),
```

### **CircleAvatarå®ç°åœ†å½¢å›¾ç‰‡**

```Bash
return const CircleAvatar( 
radius: 110, 
backgroundColor: Color(0xffFDCF09), 
child: CircleAvatar( 
radius: 100, 
backgroundImage: 
NetworkImage("https://www.itying.com/images/flutter/3.png"), 
) 
)
```

CircleAvatar ä¸æä¾›è®¾ç½®è¾¹æ¡†çš„å±æ€§ã€‚ä½†æ˜¯ï¼Œå¯ä»¥å°†å…¶åŒ…è£¹åœ¨å…·æœ‰æ›´å¤§åŠå¾„å’Œä¸åŒèƒŒæ™¯é¢œè‰²çš„ 

ä¸åŒ CircleAvatar ä¸­ï¼Œä»¥åˆ›å»ºç±»ä¼¼äºè¾¹æ¡†çš„å†…å®¹ã€‚ 

## **å›¾æ ‡ç»„ä»¶**

### **ä½¿ç”¨Flutterå®˜æ–¹Iconså›¾æ ‡**

 Material Designæ‰€æœ‰å›¾æ ‡å¯ä»¥åœ¨å…¶å®˜ç½‘æŸ¥çœ‹ï¼šhttps://material.io/tools/icons/

```Bash
child: Column( 
children: const [ 
Icon(Icons.search,color: Colors.red,size: 40), 
SizedBox(height: 10), 
Icon(Icons.home), 
SizedBox(height: 10), 
Icon(Icons.category), 
SizedBox(height: 10), 
Icon(Icons.shop), 
SizedBox(height: 10), 
], 
)
```

###  **é˜¿é‡Œå·´å·´å›¾æ ‡åº“è‡ªå®šä¹‰å­—ä½“å›¾æ ‡**

æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰å­—ä½“å›¾æ ‡ã€‚é˜¿é‡Œå·´å·´å›¾æ ‡åº“å®˜ç½‘ iconfont.cnä¸Šæœ‰å¾ˆå¤šå­—ä½“å›¾æ ‡ç´ æï¼Œæˆ‘ä»¬å¯ä»¥ 

é€‰æ‹©è‡ªå·±éœ€è¦çš„å›¾æ ‡æ‰“åŒ…ä¸‹è½½åï¼Œä¼šç”Ÿæˆä¸€äº›ä¸åŒæ ¼å¼çš„å­—ä½“æ–‡ä»¶ï¼Œåœ¨Flutterä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ttfæ ¼å¼å³ 

å¯ã€‚ 

å‡è®¾æˆ‘ä»¬é¡¹ç›®ä¸­éœ€è¦ä½¿ç”¨ä¸€ä¸ªä¹¦ç±å›¾æ ‡å’Œå¾®ä¿¡å›¾æ ‡ï¼Œæˆ‘ä»¬æ‰“åŒ…ä¸‹è½½åå¯¼å…¥ï¼š 

1. å¯¼å…¥å­—ä½“å›¾æ ‡æ–‡ä»¶ï¼›è¿™ä¸€æ­¥å’Œå¯¼å…¥å­—ä½“æ–‡ä»¶ç›¸åŒï¼Œå‡è®¾æˆ‘ä»¬çš„å­—ä½“å›¾æ ‡æ–‡ä»¶ä¿å­˜åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼Œ 

è·¯å¾„ä¸º"fonts/iconfont.ttf"ï¼š 

```Bash
fonts: 
- family: myIcon #æŒ‡å®šä¸€ä¸ªå­—ä½“å 
fonts: 
- asset: fonts/iconfont.ttf 
```

ä¹Ÿå¯ä»¥é…ç½®å¤šä¸ªå­—ä½“æ–‡ä»¶ï¼š 

```Bash
fonts: 
- family: myIcon #æŒ‡å®šä¸€ä¸ªå­—ä½“å 
fonts: 
- asset: fonts/iconfont.ttf 
- family: alipayIcon #æŒ‡å®šä¸€ä¸ªå­—ä½“å 
fonts: 
- asset: fonts/iconfont2.ttf 
```

2ã€ ä¸ºäº†ä½¿ç”¨æ–¹ä¾¿ï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ª`MyIcons` ç±»ï¼ŒåŠŸèƒ½å’Œ `Icons` ç±»ä¸€æ ·ï¼šå°†å­—ä½“æ–‡ä»¶ä¸­çš„æ‰€æœ‰å›¾æ ‡éƒ½å®šä¹‰ 

æˆé™æ€å˜é‡ï¼š 

```Bash
class MyIcons{ 
// book å›¾æ ‡ 
static const IconData book = IconData( 
0xe614, 
fontFamily: 'myIcon', 
matchTextDirection: true 
); 
// å¾®ä¿¡å›¾æ ‡ 
static const IconData wechat = IconData( 
0xec7d, 
fontFamily: 'myIcon', 
matchTextDirection: true 
); 
}
```

3ã€ ä½¿ç”¨ 

```Bash
Row( 
mainAxisAlignment: MainAxisAlignment.center, 
children: <Widget>[ 
Icon(MyIcons.book,color: Colors.purple), 
Icon(MyIcons.wechat,color: Colors.green), 
], 
) 
```

## **åˆ—è¡¨ç»„ä»¶** 

åˆ—è¡¨å¸ƒå±€æ˜¯æˆ‘ä»¬é¡¹ç›®å¼€å‘ä¸­æœ€å¸¸ç”¨çš„ä¸€ç§å¸ƒå±€æ–¹å¼ã€‚Flutterä¸­æˆ‘ä»¬å¯ä»¥é€šè¿‡ListViewæ¥å®šä¹‰åˆ—è¡¨é¡¹ï¼Œæ”¯ 

æŒå‚ç›´å’Œæ°´å¹³æ–¹å‘å±•ç¤ºã€‚é€šè¿‡ä¸€ä¸ªå±æ€§å°±å¯ä»¥æ§åˆ¶åˆ—è¡¨çš„æ˜¾ç¤ºæ–¹å‘ã€‚åˆ—è¡¨æœ‰ä»¥ä¸‹åˆ†ç±»ï¼š 

1ã€å‚ç›´åˆ—è¡¨ 

2ã€å‚ç›´å›¾æ–‡åˆ—è¡¨ 

3ã€æ°´å¹³åˆ—è¡¨ 

4ã€åŠ¨æ€åˆ—è¡¨ 

**åˆ—è¡¨ç»„ä»¶å¸¸ç”¨å‚æ•°ï¼š**

| åç§°            | ç±»å‹               | åŠŸèƒ½                                          |
| --------------- | ------------------ | --------------------------------------------- |
| scrollDirection | Axis               | Axis.horizontalæ°´å¹³åˆ—è¡¨ Axis.verticalå‚ç›´åˆ—è¡¨ |
| padding         | EdgeInsetsGeometry | å†…è¾¹è·                                        |
| resolve         | bool               | ç»„ä»¶åå‘æ’åº                                  |
| children        | List åˆ—è¡¨          | åˆ—è¡¨å…ƒç´                                       |

### å‚ç›´åˆ—è¡¨

å¦‚ï¼šæ·˜å®ä¸ªäººç•Œé¢çš„åŠŸèƒ½é¡¹

ç¤ºä¾‹

![img](Flutterç¬”è®°.assets/17272488831845.png)

ä»£ç 

```Bash
class MyApp extends StatelessWidget { 
const MyApp({Key? key}) : super(key: key); 
@override 
Widget build(BuildContext context) { 
return ListView( 
children: const <Widget>[ 
ListTile( 
leading: Icon(Icons.assignment, color: Colors.red), 
title: Text("å…¨éƒ¨è®¢å•"), 
), 
Divider(), //ç”¨ä½œåˆ†å‰²çº¿
ListTile(
leading: Icon(Icons.payment, color: Colors.green), 
title: Text("å¾…ä»˜æ¬¾"), 
), 
Divider(), 
ListTile( 
leading: Icon(Icons.local_car_wash, color: Colors.orange), 
title: Text("å¾…æ”¶è´§"), 
), 
ListTile( 
leading: Icon(Icons.favorite, color: Colors.lightGreen), 
title: Text("æˆ‘çš„æ”¶è—"), 
), 
Divider(), 
ListTile( 
leading: Icon(Icons.people, color: Colors.black54), 
title: Text("åœ¨çº¿å®¢æœ"), 
), 
Divider(), 
], 
); 
} 
}
```

### å‚ç›´å›¾æ–‡åˆ—è¡¨

![img](Flutterç¬”è®°.assets/17272488831846.png)

```Bash
class MyApp extends StatelessWidget { 
const MyApp({Key? key}) : super(key: key); 
@override 
Widget build(BuildContext context) { 
return ListView( 
children: <Widget>[ 
ListTile( 
leading: Image.network("https://www.itying.com/images/flutter/1.png"), 
title: const Text('ååŒ—é»„æ·®é«˜æ¸©é›¨ä»Šèµ·å¼ºåŠ¿ç™»åœº'), 
subtitle: const Text("ä¸­å›½å¤©æ°”ç½‘è®¯ 21æ—¥å¼€å§‹ï¼ŒååŒ—é»„æ·®é«˜æ¸©é›¨ä»Šèµ·å¼ºåŠ¿ç™»åœº"), 
), 
const Divider(), 
ListTile( 
leading: Image.network("https://www.itying.com/images/flutter/2.png"), 
title: const Text('ä¿ç›‘å±€50å¤©å¼€32ç½šå• â€œæ–­ä¾›â€è¿è§„èµ„é‡‘ä¸ºæˆ¿å¸‚é™æ¸©'), 
subtitle: const Text("ä¸­å›½å¤©æ°”ç½‘è®¯ ä¿ç›‘å±€50å¤©å¼€32ç½šå• â€œæ–­ä¾›â€è¿è§„èµ„é‡‘ä¸ºæˆ¿å¸‚é™ 
æ¸©"), 
), 
const Divider(), 
ListTile( 
title: const Text('ååŒ—é»„æ·®é«˜æ¸©é›¨ä»Šèµ·å¼ºåŠ¿ç™»åœº'),
subtitle: const Text("ä¸­å›½å¤©æ°”ç½‘è®¯ 21æ—¥å¼€å§‹ï¼ŒååŒ—é»„æ·®é«˜æ¸©é›¨ä»Šèµ·å¼ºåŠ¿ç™»åœº"), 
trailing: 
Image.network("https://www.itying.com/images/flutter/3.png")), 
const Divider(), 
ListTile( 
leading: Image.network("https://www.itying.com/images/flutter/4.png"), 
title: const Text('æ™®äº¬ç°èº«ä¿„æµ·å†›èŠ‚é˜…å…µï¼šä¹˜è‰‡æ£€é˜…å†›èˆ°'), 
), 
const Divider(), 
ListTile( 
leading: Image.network("https://www.itying.com/images/flutter/5.png"), 
title: const Text('é¸¿æ˜Ÿå°”å…‹æ1ä¸ªäº¿å¸®åŠ©å›°éš¾æ®‹ç–¾ç¾¤ä½“ ç½‘å‹ï¼šä¼ä¸šæœ‰æ‹…å½“'), 
), 
const Divider(), 
ListTile( 
leading: Image.network("https://www.itying.com/images/flutter/6.png"), 
title: const Text('è¡Œä¸šå†¥ç¯ï¼Ÿè€ç½—æœ€å¥½ç¥ˆç¥·è‹¹æœçš„ARèƒ½æˆ'), 
), 
], 
); 
} 
}
```

### **æ°´å¹³åˆ—è¡¨-å¯ä»¥å·¦å³æ»‘åŠ¨**

å¦‚äº¬ä¸œ

![img](Flutterç¬”è®°.assets/17272488831847.png)

```Bash
class MyApp extends StatelessWidget { 
const MyApp({Key? key}) : super(key: key); 
@override 
Widget build(BuildContext context) { 
return SizedBox( 
height: 180, 
child: ListView( 
scrollDirection: Axis.horizontal, 
children: <Widget>[ 
Container(
width: 180.0, 
color: Colors.red, 
), 
Container( 
width: 180.0, 
color: Colors.orange, 
child: Column( 
children: <Widget>[ 
Image.network("https://www.itying.com/images/flutter/1.png"), 
const Text('æˆ‘æ˜¯ä¸€ä¸ªæ–‡æœ¬') 
], 
), 
), 
Container( 
width: 180.0, 
color: Colors.blue, 
), 
Container( 
width: 180.0, 
color: Colors.deepOrange, 
), 
Container( 
width: 180.0, 
color: Colors.deepPurpleAccent, 
), 
], 
), 
); 
} 
} 
```

### **åŠ¨æ€åˆ—è¡¨ç»„ä»¶ä»¥åŠå¾ªç¯åŠ¨æ€æ•°æ®**

**1ã€****forå¾ªç¯****å®ç°åŠ¨æ€åˆ—è¡¨** 

```Bash
import 'package:flutter/material.dart'; 
import './ityingFont.dart'; 
void main() { 
runApp(const MyApp()); 
} 
class MyApp extends StatelessWidget { 
const MyApp({Key? key}) : super(key: key); 
// This widget is the root of your application. 
@override 
Widget build(BuildContext context) { 
return MaterialApp( 
theme: ThemeData( 
primarySwatch: Colors.yellow, 
),
home: Scaffold( 
appBar: AppBar(title: const Text("Flutter ICON")), 
body: const MyHomePage(), 
), 
); 
} 
} 
class MyHomePage extends StatelessWidget { 
const MyHomePage({Key? key}) : super(key: key); 
List<Widget> _initListView(){ 
List<Widget> list=[]; 
for (var i = 0; i < 10; i++) { 
list.add( 
const ListTile( 
title: Text("æˆ‘æ˜¯ä¸€ä¸ªåˆ—è¡¨"), 
) 
); 
} 
return list; 
} 
@override 
Widget build(BuildContext context) { 
return ListView( 
children: _initListView(), 
); 
} 
}
```

**2ã€ListView.builderå®ç°åŠ¨æ€åˆ—è¡¨** 

```Bash
import 'package:flutter/material.dart'; 
import './ityingFont.dart'; 
void main() { 
runApp(const MyApp()); 
} 
class MyApp extends StatelessWidget { 
const MyApp({Key? key}) : super(key: key); 
// This widget is the root of your application. 
@override 
Widget build(BuildContext context) { 
return MaterialApp( 
theme: ThemeData( 
primarySwatch: Colors.yellow, 
), 
home: Scaffold( 
appBar: AppBar(title: const Text("Flutter ICON")), 
body: MyHomePage(), 
), 
); 
}
} 
class MyHomePage extends StatelessWidget { 
List list = []; 
MyHomePage({Key? key}) : super(key: key) { 
for (var i = 0; i < 10; i++) { 
list.add("æˆ‘æ˜¯ä¸€ä¸ªåˆ—è¡¨--$i"); 
} 
} 
@override 
Widget build(BuildContext context) { 
return ListView.builder( 
itemCount: list.length, 
itemBuilder: (context, index) { 
return ListTile( 
title: Text("${list[index]}"), 
); 
}); 
} 
}
```

## **GridViewç½‘æ ¼å¸ƒå±€ç»„ä»¶** 

### **GridViewç½‘æ ¼å¸ƒå±€ç»„ä»¶ä»‹ç»**

![img](Flutterç¬”è®°.assets/17272488831848.png)

GridViewç½‘æ ¼å¸ƒå±€åœ¨å®é™…é¡¹ç›®ä¸­ç”¨çš„ä¹Ÿæ˜¯éå¸¸å¤šçš„ï¼Œå½“æˆ‘ä»¬æƒ³è®©å¯ä»¥æ»šåŠ¨çš„å…ƒç´ ä½¿ç”¨çŸ©é˜µæ–¹å¼æ’åˆ—çš„æ—¶ 

å€™ã€‚æ­¤æ—¶æˆ‘ä»¬å¯ä»¥ç”¨ç½‘æ ¼åˆ—è¡¨ç»„ä»¶GridViewå®ç°å¸ƒå±€ã€‚ 

GridViewåˆ›å»ºç½‘æ ¼åˆ—è¡¨ä¸»è¦æœ‰ä¸‹é¢ä¸‰ç§æ–¹å¼ 

1ã€å¯ä»¥é€šè¿‡GridView.count å®ç°ç½‘æ ¼å¸ƒå±€ 

2ã€å¯ä»¥é€šè¿‡GridView.extent å®ç°ç½‘æ ¼å¸ƒå±€ 

3ã€é€šè¿‡GridView.builderå®ç°åŠ¨æ€ç½‘æ ¼å¸ƒå±€

**å¸¸ç”¨å±æ€§ï¼š** 

| åç§°               | ç±»å‹                                                         | åŠŸèƒ½                                          |
| ------------------ | ------------------------------------------------------------ | --------------------------------------------- |
| scrollDirection    | Axis                                                         | Axis.horizontalæ°´å¹³åˆ—è¡¨ Axis.verticalå‚ç›´åˆ—è¡¨ |
| padding            | EdgeInsetsGeometry                                           | å†…è¾¹è·                                        |
| resolve            | bool                                                         | ç»„ä»¶åå‘æ’åº                                  |
| crossAxisSpacing   | double                                                       | æ°´å¹³å­Widgetä¹‹é—´é—´è·                          |
| mainAxisSpacing    | double                                                       | å‚ç›´å­Widgetä¹‹é—´é—´è·                          |
| crossAxisCount     | int ç”¨åœ¨GridView.count                                       | ä¸€è¡Œçš„Widgetæ•°é‡                              |
| maxCrossAxisExtent | double ç”¨åœ¨GridView.extent                                   | æ¨ªè½´å­å…ƒç´ çš„æœ€å¤§é•¿åº¦                          |
| childAspectRatio   | double                                                       | å­Widgetå®½é«˜æ¯”ä¾‹                              |
| children           |                                                              |                                               |
| gridDelegate       | SliverGridDelegateWithFixedCrossAxisCount  SliverGridDelegateWithMaxCrossAxisExtent | æ§åˆ¶å¸ƒå±€ä¸»è¦ç”¨åœ¨GridView.builderé‡Œé¢          |

### **GridView.count å®ç°ç½‘æ ¼å¸ƒå±€**

GridView.countæ„é€ å‡½æ•°å†…éƒ¨ä½¿ç”¨äº†SliverGridDelegateWithFixedCrossAxisCountï¼Œæˆ‘ä»¬é€šè¿‡å®ƒå¯ä»¥å¿«é€Ÿçš„åˆ›å»º**æ¨ªè½´****å›ºå®šæ•°é‡**å­å…ƒç´ çš„GridView

ç¤ºä¾‹

![img](Flutterç¬”è®°.assets/17272488831849.png)

```Bash
class HomePage extends StatelessWidget { 
const HomePage({Key? key}) : super(key: key); 
@override 
Widget build(BuildContext context) { 
return GridView.count( 
crossAxisCount: 3, 
childAspectRatio: 1.0, 
children: const <Widget>[ 
Icon(Icons.home), 
Icon(Icons.ac_unit), 
Icon(Icons.search), 
Icon(Icons.settings), 
Icon(Icons.airport_shuttle), 
Icon(Icons.all_inclusive), 
Icon(Icons.beach_access), 
Icon(Icons.cake), 
Icon(Icons.circle), 
], 
); 
} 
}
```

### **GridView.extentå®ç°ç½‘æ ¼å¸ƒå±€** 

 GridView.extentæ„é€ å‡½æ•°å†…éƒ¨ä½¿ç”¨äº†SliverGridDelegateWithMaxCrossAxisExtentï¼Œæˆ‘ä»¬é€šè¿‡å®ƒå¯ä»¥å¿«é€Ÿçš„åˆ›å»º**æ¨ªè½´****å­å…ƒç´ ä¸ºå›ºå®šæœ€å¤§é•¿åº¦**çš„GridViewã€‚ 

ç¤ºä¾‹

![img](Flutterç¬”è®°.assets/172724888318410.png)

```Bash
class HomePage extends StatelessWidget { 
const HomePage({Key? key}) : super(key: key); 
@override 
Widget build(BuildContext context) { 
return GridView.extent( 
maxCrossAxisExtent: 80.0, 
childAspectRatio: 1.0, 
children: const <Widget>[ 
Icon(Icons.home), 
Icon(Icons.ac_unit), 
Icon(Icons.search), 
Icon(Icons.settings), 
Icon(Icons.airport_shuttle), 
Icon(Icons.all_inclusive), 
Icon(Icons.beach_access), 
Icon(Icons.cake), 
Icon(Icons.circle), 
], 
); 
} 
}
```

### **GridView.count å’Œ GridView.extentå±æ€§è¯¦è§£**

![img](Flutterç¬”è®°.assets/172724888318511.png)

```Bash
class HomePage extends StatelessWidget { 
const HomePage({Key? key}) : super(key: key); 
List<Widget> _getListData() { 
List<Widget> list = []; 
for (var i = 0; i < 20; i++) { 
list.add(Container( 
alignment: Alignment.center, 
color: Colors.blue, 
child: Text( 
'è¿™æ˜¯ç¬¬$iæ¡æ•°æ®', 
style: const TextStyle(color: Colors.white, fontSize: 20), 
), 
// height: 400, //è®¾ç½®é«˜åº¦æ²¡æœ‰ååº” 
)); 
} 
return list; 
} 
@override 
Widget build(BuildContext context) { 
return GridView.count( 
crossAxisSpacing: 20.0, //æ°´å¹³å­ Widget ä¹‹é—´é—´è· 
mainAxisSpacing: 20.0, //å‚ç›´å­ Widget ä¹‹é—´é—´è·
padding: const EdgeInsets.all(10), 
crossAxisCount: 2, //ä¸€è¡Œçš„ Widget æ•°é‡ 
childAspectRatio: 0.8, //å®½åº¦å’Œé«˜åº¦çš„æ¯”ä¾‹ 
children: _getListData(), 
); 
} 
}
```

### **GridView.count å®ç°åŠ¨æ€åˆ—è¡¨**

![img](Flutterç¬”è®°.assets/172724888318512.png)

```Bash
import 'package:flutter/material.dart'; 
import 'res/listData.dart'; 
void main() { 
runApp(const MyApp()); 
} 
class MyApp extends StatelessWidget {
const MyApp({Key? key}) : super(key: key); 
// This widget is the root of your application. 
@override 
Widget build(BuildContext context) { 
return MaterialApp( 
title: 'Flutter Demo', 
theme: ThemeData( 
primarySwatch: Colors.blue, 
), 
home: Scaffold( 
appBar: AppBar(title: const Text("FLutter App")), 
body: const HomePage(), 
), 
); 
} 
} 
class HomePage extends StatelessWidget { 
const HomePage({Key? key}) : super(key: key); 
List<Widget> _getListData() { 
var tempList=listData.map((value){ 
return Container( 
decoration: BoxDecoration( 
border: Border.all( 
color:const Color.fromRGBO(233, 233,233, 0.9), 
width: 1 
) 
), 
child:Column( 
children: <Widget>[ 
Image.network(value['imageUrl']), 
const SizedBox(height: 12), 
Text( 
value['title'], 
textAlign: TextAlign.center, 
style: const TextStyle( 
fontSize: 20 
), 
) 
], 
), 
); 
}); 
// ('xxx','xxx') 
return tempList.toList(); 
} 
@override 
Widget build(BuildContext context) { 
return GridView.count( 
crossAxisSpacing:10.0 , //æ°´å¹³å­ Widget ä¹‹é—´é—´è· 
mainAxisSpacing: 10.0, //å‚ç›´å­ Widget ä¹‹é—´é—´è· 
padding: const EdgeInsets.all(10),
crossAxisCount: 2, //ä¸€è¡Œçš„ Widget æ•°é‡ 
// childAspectRatio:0.7, //å®½åº¦å’Œé«˜åº¦çš„æ¯”ä¾‹ 
children: _getListData(), 
); 
} 
}
```

### **GridView.builderå®ç°åŠ¨æ€åˆ—è¡¨** 

```Bash
import 'package:flutter/material.dart'; 
import 'res/listData.dart'; 
void main() { 
runApp(const MyApp()); 
} 
class MyApp extends StatelessWidget { 
const MyApp({Key? key}) : super(key: key); 
// This widget is the root of your application. 
@override 
Widget build(BuildContext context) { 
return MaterialApp( 
title: 'Flutter Demo', 
theme: ThemeData( 
primarySwatch: Colors.blue, 
), 
home: Scaffold( 
appBar: AppBar(title: const Text("FLutter App")), 
body: const HomePage(), 
), 
); 
} 
} 
class HomePage extends StatelessWidget { 
const HomePage({Key? key}) : super(key: key); 
Widget _getListData(context, index) { 
return Container( 
decoration: BoxDecoration( 
border: Border.all( 
color: const Color.fromRGBO(233, 233, 233, 0.9), width: 1)), 
child: Column( 
children: <Widget>[ 
Image.network(listData[index]['imageUrl']), 
const SizedBox(height: 12), 
Text( 
listData[index]['title'],
textAlign: TextAlign.center, 
style: const TextStyle(fontSize: 20), 
) 
], 
), 
// height: 400, //è®¾ç½®é«˜åº¦æ²¡æœ‰ååº” 
); 
} 
@override 
Widget build(BuildContext context) { 
return GridView.builder( 
//æ³¨æ„ 
gridDelegate: const SliverGridDelegateWithFixedCrossAxisCount( 
crossAxisSpacing: 10.0, //æ°´å¹³å­ Widget ä¹‹é—´é—´è· 
mainAxisSpacing: 10.0, //å‚ç›´å­ Widget ä¹‹é—´é—´è· 
crossAxisCount: 2, //ä¸€è¡Œçš„ Widget æ•°é‡ 
), 
itemCount: listData.length, 
itemBuilder: _getListData, 
); 
} 
} 
```

##  **Paddiingç»„ä»¶**

åœ¨htmlä¸­å¸¸è§çš„å¸ƒå±€æ ‡ç­¾éƒ½æœ‰paddingå±æ€§ï¼Œä½†æ˜¯Flutterä¸­å¾ˆå¤šWidgetæ˜¯æ²¡æœ‰paddingå±æ€§ã€‚è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥ç”¨Paddingç»„ä»¶å¤„ç†å®¹å™¨ä¸å­å…ƒç´ ä¹‹é—´çš„é—´è·ã€‚ 

| åç§°    | åŠŸèƒ½                               |
| ------- | ---------------------------------- |
| padding | paddingå€¼, EdgeInsetssè®¾ç½®å¡«å……çš„å€¼ |
| child   | å­ç»„ä»¶                             |

```Bash
Padding( 
padding: const EdgeInsets.all(10), 
child: Image.network('https://www.itying.com/images/flutter/1.png', 
fit: BoxFit.cover), 
),
```

## **çº¿æ€§å¸ƒå±€ï¼ˆRowå’ŒColumnï¼‰**

### **Row æ°´å¹³å¸ƒå±€ç»„ä»¶**

| åç§°               | åŠŸèƒ½                                                         |
| ------------------ | ------------------------------------------------------------ |
| mainAxisAlignment  | ä¸»è½´çš„æ’åºæ–¹å¼ spaceBetweenä¸€ä¸ªåœ¨å·¦ä¸€ä¸ªåœ¨å³ spaceAround å·¦å³ç©ºç™½éƒ¨åˆ†é—´è·ä¸€æ ·ï¼Œç­‰åˆ† spaceEvenly ä¸­é—´éƒ¨åˆ†é—´è·æ˜¯å·¦å³çš„ä¸¤å€ |
| crossAxisAlignment | æ¬¡è½´çš„æ’åºæ–¹å¼ï¼Œæ³¨æ„ï¼Œæ¬¡è½´èµ·æ•ˆéœ€è¦æœ‰å¤–éƒ¨å®¹å™¨                 |
| children           | ç»„ä»¶å­å…ƒç´                                                    |

ä¾‹

![img](Flutterç¬”è®°.assets/172724888318513.png)

```Bash
class HomePage extends StatelessWidget { 
const HomePage({Key? key}) : super(key: key); 
@override 
Widget build(BuildContext context) { 
return Container( 
height: double.infinity, 
width: double.infinity, 
color: Colors.black26, 
child: Row( 
crossAxisAlignment: CrossAxisAlignment.center, 
mainAxisAlignment: MainAxisAlignment.spaceEvenly, 
children: [ 
IconContainer(Icons.home, color: Colors.red), 
IconContainer(Icons.search, color: Colors.blue), 
IconContainer(Icons.send, color: Colors.orange), 
], 
), 
); 
} 
}
class IconContainer extends StatelessWidget { 
Color color; 
double size; 
IconData icon; 
IconContainer(this.icon, 
{Key? key, this.color = Colors.red, this.size = 32.0}) 
: super(key: key); 
@override 
Widget build(BuildContext context) { 
return Container( 
height: 100.0, 
width: 100.0, 
color: color, 
child: Center(child: Icon(icon, size: size, color: Colors.white)), 
); 
} 
}
```

### **Columnå‚ç›´å¸ƒå±€ç»„ä»¶** 

| åç§°               | åŠŸèƒ½                                                         |
| ------------------ | ------------------------------------------------------------ |
| mainAxisAlignment  | ä¸»è½´çš„æ’åºæ–¹å¼ spaceBetweenä¸€ä¸ªåœ¨å·¦ä¸€ä¸ªåœ¨å³ spaceAround å·¦å³ç©ºç™½éƒ¨åˆ†é—´è·ä¸€æ ·ï¼Œç­‰åˆ† spaceEvenly ä¸­é—´éƒ¨åˆ†é—´è·æ˜¯å·¦å³çš„ä¸¤å€ |
| crossAxisAlignment | æ¬¡è½´çš„æ’åºæ–¹å¼ï¼Œæ³¨æ„ï¼Œæ¬¡è½´èµ·æ•ˆéœ€è¦æœ‰å¤–éƒ¨å®¹å™¨                 |
| children           | ç»„ä»¶å­å…ƒç´                                                    |

![img](Flutterç¬”è®°.assets/172724888318514.png)

```Bash
child: Column( 
crossAxisAlignment: CrossAxisAlignment.center, 
mainAxisAlignment: MainAxisAlignment.spaceEvenly, 
children: [ 
IconContainer(Icons.home, color: Colors.red), 
IconContainer(Icons.search, color: Colors.blue), 
IconContainer(Icons.send, color: Colors.orange), 
], 
),
```

### **double.infinity å’Œdouble.maxFiniteæ’‘æ»¡å®¹å™¨** 

double.infinity å’Œdouble.maxFiniteå¯ä»¥è®©å½“å‰å…ƒç´ çš„widthæˆ–è€…heightè¾¾åˆ°çˆ¶å…ƒç´ çš„å°ºå¯¸ 

åº•å±‚ä»£ç  

```Bash
static const double nan = 0.0 / 0.0; 
static const double infinity = 1.0 / 0.0; 
static const double negativeInfinity = -infinity; 
static const double minPositive = 5e-324; 
static const double maxFinite/ = 1.7976931348623157e+308; 
```

**å¦‚ä¸‹å¯ä»¥è®©Containeré“ºæ»¡æ•´ä¸ªå±å¹•**

```Bash
Widget build(BuildContext context) { 
return Container( 
height: double.infinity, 
width: double.infinity, 
color: Colors.black26, 
child: Column( 
crossAxisAlignment: CrossAxisAlignment.center, 
mainAxisAlignment: MainAxisAlignment.spaceEvenly, 
children: [ 
IconContainer(Icons.home, color: Colors.red), 
IconContainer(Icons.search, color: Colors.blue), 
IconContainer(Icons.send, color: Colors.orange), 
], 
), 
); 
} 
```

## å¼¹æ€§å¸ƒå±€ï¼ˆFlex Expandedï¼‰

Flex ç»„ä»¶å¯ä»¥æ²¿ç€æ°´å¹³æˆ–å‚ç›´æ–¹å‘æ’åˆ—å­ç»„ä»¶ï¼Œå¦‚æœä½ çŸ¥é“ä¸»è½´æ–¹å‘ï¼Œä½¿ç”¨ Row æˆ– Column ä¼šæ–¹ä¾¿ä¸€äº›ï¼Œ**å› ä¸º** Row **å’Œ** Column **éƒ½****ç»§æ‰¿****è‡ª** Flex ï¼Œå‚æ•°åŸºæœ¬ç›¸åŒï¼Œæ‰€ä»¥èƒ½ä½¿ç”¨Flexçš„åœ°æ–¹åŸºæœ¬ä¸Šéƒ½å¯ä»¥ä½¿ç”¨Row æˆ– Column ã€‚ Flex æœ¬èº«åŠŸèƒ½æ˜¯å¾ˆå¼ºå¤§çš„ï¼Œå®ƒä¹Ÿå¯ä»¥å’Œ Expanded ç»„ä»¶é…åˆå®ç°å¼¹æ€§å¸ƒå±€ ã€‚

èƒ½å¤Ÿå®ç°ç±»ä¼¼ç™¾åº¦æœç´¢æ¡†ä¸€æ ·çš„æŒ‰é’®å›ºå®šå®½åº¦ï¼Œæœç´¢æ å®½åº¦è‡ªé€‚åº”çš„æ•ˆæœ

![img](Flutterç¬”è®°.assets/172724888318515.png)

![img](Flutterç¬”è®°.assets/172724888318516.png)

è¿˜èƒ½å¤Ÿå®ç°æŒ‰æ¯”ä¾‹å¸ƒå±€ï¼Œå·¦è¾¹1/5å³è¾¹4/5

![img](Flutterç¬”è®°.assets/172724888318517.png)

è¿˜èƒ½å®ç°åˆ†å‰²ä¹‹åå†åˆ†å‰²çš„å¸ƒå±€

![img](Flutterç¬”è®°.assets/172724888318518.png)

### æ°´å¹³å¼¹æ€§å¸ƒå±€

```Bash
return Flex( 
direction: Axis.horizontal, 
children: [ 
Expanded(flex: 2, child: IconContainer(Icons.home, color: Colors.red)), 
Expanded( 
        flex: 1, 
        child: IconContainer(Icons.search, color: Colors.orange), 
        ) 
], 
); 
} 
} 
```

è¿™é‡Œé¢çš„flexçš„å€¼æ˜¯æ¯”ä¾‹ï¼Œä¸Šé¢çš„ä»£ç è¡¨ç¤º2:1çš„æ¯”ä¾‹

å¦‚æœè¦å®ç°å‚ç›´å¼¹æ€§å¸ƒå±€åªéœ€è¦å°†direction: Axis.horizontalä¿®æ”¹æˆdirection: Axis.verticalå³å¯

ç¤ºä¾‹

![img](Flutterç¬”è®°.assets/172724888318519.png)

æ€è·¯ï¼š

1. æ•´ä½“æ˜¯ä¸€ä¸ªListViewï¼Œé‡Œé¢æœ‰ä¸€ä¸ªContainerä½œä¸ºä¸Šé¢çš„é»‘è‰²éƒ¨åˆ†ï¼Œä¸€ä¸ªSizedBoxå……å½“ç™½è‰²çš„åˆ†å‰²çº¿

ä¸€ä¸ªRowç”¨æ¥å­˜æ”¾æ¨ªå‘çš„ç¬¬äºŒå—å¤§å†…å®¹

1. Rowé‡Œé¢é¦–å…ˆæ˜¯ä¸€ä¸ªExpanded(flex: 2)é‡Œé¢å†åŒ…ä¸€ä¸ªSizedBoxå›ºå®šé«˜åº¦,SizedBoxé‡Œé¢å†åŒ…ä¸€ä¸ªImageï¼Œè¿™é‡Œè®°å¾—æŒ‡å®šå®½åº¦ä¸ºwidth:double.infinity *ï¼Œ*ç„¶åRowé‡Œé¢è¿˜æœ‰ä¸€ä¸ªSizedBoxå……å½“ç™½è‰²çš„åˆ†å‰²çº¿ï¼Œæœ€åæ˜¯ä¸€ä¸ªExpanded(flex: 1ï¼‰åŒ…è£¹å³è¾¹çš„ä¸¤ä¸ªå›¾
2. å³è¾¹çš„Expandedé‡Œé¢é¦–å…ˆéœ€è¦ä¸€ä¸ªSizedBoxæŒ‡å®šé«˜åº¦ï¼Œç„¶åéœ€è¦ä¸€ä¸ªColumnæŒ‡å®šå‚ç›´å¸ƒå±€ï¼Œæœ€åæ˜¯ä¸¤ä¸ªExpandeã€‚ç”±äºImageå›¾ç‰‡çš„å¤§å°ä¸ä¸€å®šå’Œæˆ‘ä»¬çš„ç›’å­ä¸€æ ·å¤§ï¼Œæ‰€ä»¥è¿˜æ˜¯éœ€è¦åœ¨SizedBoxé‡Œé¢å†åŒ…ä¸€ä¸ªImageã€‚è¿™é‡Œé«˜åº¦ä¸éœ€è¦æŒ‡å®šäº†æˆ‘ä»¬æŒ‡å®šå®½åº¦ä¸ºwidth:double.infinity 

## **å±‚å å¸ƒå±€ï¼ˆStackã€Alignã€Positionedï¼‰**

å®ç°å®šä½å¸ƒå±€ï¼šä¹Ÿå°±æ˜¯å°†ä¸€ä¸ªç»„ä»¶æ”¾ç½®åˆ°å¦ä¸€ä¸ªç»„ä»¶ä¸Šé¢ï¼Œæˆ–è€…å®ç°æµ®åŠ¨å¯¼èˆª

### **Flutter Stackç»„ä»¶** 

Stackè¡¨ç¤ºå †çš„æ„æ€ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨Stackæˆ–è€…**Stackç»“åˆAlign**æˆ–è€…**Stackç»“åˆPositiond**æ¥å®ç°é¡µé¢çš„å®šä½å¸ƒå±€ã€‚

StackåŸºäºå¤–éƒ¨å®¹å™¨å®šä½ï¼Œå¦‚æœæ²¡æœ‰å¤–éƒ¨å®¹å™¨åˆ™åŸºäºæ•´ä¸ªå±å¹•å®šä½

| åç§°      | åŠŸèƒ½                     |
| --------- | ------------------------ |
| alignment | é…ç½®æ‰€æœ‰å­å…ƒç´ çš„æ˜¾ç¤ºä½ç½® |
| children  | å­ç»„ä»¶                   |

 **Stackç»„ä»¶**ä¸­çš„å…ƒç´ å¯¹å †å åœ¨ä¸€èµ·

![img](Flutterç¬”è®°.assets/172724888318520.png)

### **Align**

Align ç»„ä»¶å¯ä»¥è°ƒæ•´å­ç»„ä»¶çš„ä½ç½® , Stackç»„ä»¶ä¸­ç»“åˆAlignç»„ä»¶ä¹Ÿå¯ä»¥æ§åˆ¶æ¯ä¸ªå­å…ƒç´ çš„æ˜¾ç¤ºä½ç½®

| åç§°      | åŠŸèƒ½                     |
| --------- | ------------------------ |
| alignment | é…ç½®æ‰€æœ‰å­å…ƒç´ çš„æ˜¾ç¤ºä½ç½® |
| children  | å­ç»„ä»¶                   |

**Alignç»“åˆContainerçš„ä½¿ç”¨** 

æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š FlutterLogo æ˜¯Flutter SDK æä¾›çš„ä¸€ä¸ªç»„ä»¶ï¼Œå†…å®¹å°±æ˜¯ Flutter çš„ log 

```Bash
class HomePage extends StatelessWidget { 
const HomePage({Key? key}) : super(key: key); 
@override 
Widget build(BuildContext context) { 
return Container( 
height: 120.0, 
width: 120.0, 
color: Colors.blue.shade50, 
child: const Align( 
alignment: Alignment.topRight, 
child: FlutterLogo( 
size: 60, 
), 
), 
); 
} 
} 
```

è¿™ä¼šä½¿å¾—Alignç»„ä»¶çš„å†…å®¹åœ¨Containerçš„å³è¾¹æ˜¾ç¤º

![img](Flutterç¬”è®°.assets/172724888318521.png)

 **Alignç»“åˆAlignment å‚æ•°**

```Bash
class HomePage extends StatelessWidget { 
const HomePage({Key? key}) : super(key: key); 
@override 
Widget build(BuildContext context) { 
return Container( 
height: 120.0, 
width: 120.0, 
color: Colors.blue.shade50, 
child: const Align( 
alignment: Alignment(2, 0.0), 
child: FlutterLogo( 
size: 60, 
), 
)); 
} 
}
```

Alignment Widgetä¼šä»¥**çŸ©å½¢çš„ä¸­å¿ƒç‚¹ä½œä¸ºåæ ‡åŸç‚¹**ï¼Œå³ Alignment(0.0, 0.0) ã€‚ x ã€ y çš„å€¼ä»-1åˆ°1åˆ†åˆ«ä»£è¡¨çŸ©å½¢å·¦è¾¹åˆ°å³è¾¹çš„è·ç¦»å’Œé¡¶éƒ¨åˆ°åº•è¾¹çš„è·ç¦»ï¼Œå› æ­¤2ä¸ªæ°´å¹³ï¼ˆæˆ–å‚ç›´ï¼‰å•ä½åˆ™ç­‰äºçŸ©å½¢çš„å®½ï¼ˆæˆ–é«˜ï¼‰ï¼Œå¦‚ Alignment(-1.0, -1.0) ä»£è¡¨çŸ©å½¢çš„å·¦ä¾§é¡¶ç‚¹ï¼Œè€Œ Alignment(1.0, 1.0) ä»£è¡¨å³ä¾§åº•éƒ¨ç»ˆç‚¹ï¼Œè€Œ Alignment(1.0, -1.0) åˆ™æ­£æ˜¯å³ä¾§é¡¶ç‚¹ï¼Œå³ Alignment.topRight ã€‚ä¸ºäº†ä½¿ç”¨æ–¹ä¾¿ï¼ŒçŸ©å½¢çš„åŸç‚¹ã€å››ä¸ªé¡¶ç‚¹ï¼Œä»¥åŠå››æ¡è¾¹çš„ç»ˆç‚¹åœ¨ Alignment ç±»ä¸­éƒ½å·²ç»å®šä¹‰ä¸ºäº†é™æ€å¸¸é‡ã€‚ 

Alignment å¯ä»¥é€šè¿‡å…¶**åæ ‡è½¬æ¢å…¬å¼**å°†å…¶åæ ‡è½¬ä¸ºå­å…ƒç´ çš„å…·ä½“åç§»åæ ‡ï¼š(Alignment.x*childWidth/2+childWidth/2, Alignment.y*childHeight/2+childHeight/2) å…¶ä¸­ childWidth ä¸ºå­å…ƒç´ çš„å®½åº¦ï¼Œ childHeight ä¸ºå­å…ƒç´ é«˜åº¦ã€‚ç°åœ¨æˆ‘ä»¬å†çœ‹çœ‹ä¸Šé¢çš„ç¤ºä¾‹ï¼Œæˆ‘ä»¬å°† Alignment(2, 0.0) å¸¦å…¥ä¸Šé¢å…¬å¼ï¼Œ (2*120/2+120/2, 0*120/2+120/2) ï¼Œå¯å¾— FlutterLogo çš„å®é™…åç§»åæ ‡æ­£æ˜¯ï¼ˆ180,60ï¼‰ã€‚

![img](Flutterç¬”è®°.assets/172724888318522.png)

### **Positioned**

Stackç»„ä»¶ä¸­ç»“åˆPositionedç»„ä»¶ä¹Ÿå¯ä»¥æ§åˆ¶æ¯ä¸ªå­å…ƒç´ çš„æ˜¾ç¤ºä½ç½®

| åç§°   | åŠŸèƒ½                                                         |
| ------ | ------------------------------------------------------------ |
| top    | å­å…ƒç´ è·ç¦»é¡¶éƒ¨çš„è·ç¦»                                         |
| bottom | å­å…ƒç´ è·ç¦»åº•éƒ¨çš„è·ç¦»                                         |
| left   | å­å…ƒç´ è·ç¦»å·¦ä¾§è·ç¦»                                           |
| right  | å­å…ƒç´ è·ç¦»å³ä¾§è·ç¦»                                           |
| child  | å­ç»„ä»¶                                                       |
| width  | ç»„ä»¶çš„é«˜åº¦ ï¼ˆæ³¨æ„ï¼šå®½åº¦å’Œé«˜åº¦å¿…é¡»æ˜¯å›ºå®šå€¼ï¼Œæ²¡æ³•ä½¿ç”¨double.infinityï¼‰ |
| height | å­ç»„ä»¶çš„é«˜åº¦                                                 |

```Bash
Positioned( 
bottom: 0, 
left: 100, 
child: Icon(Icons.search,size: 30,color: Colors.white), 
), 
```

æˆ‘ä»¬é€šå¸¸å°†Stackç»„ä»¶ä¸­ç»“åˆPositionedç»„ä»¶

```Bash
child: Stack( 
// alignment: Alignment.center, 
children: const <Widget>[ 
Positioned( 
    left: 10, 
    child: Icon(Icons.home,size: 40,color: Colors.white),
    ), 
    Positioned( 
    bottom: 0, 
    left: 100, 
    child: Icon(Icons.search,size: 30,color: Colors.white), 
    ), 
    Positioned( 
    right: 0, 
    child: Icon(Icons.settings_applications,size: 30,color: 
    Colors.white), 
    ) 
    ], 
), 
);
```

### **FlutterMediaQueryè·å–å±å¹•å®½åº¦å’Œé«˜åº¦**

```Bash
final size =MediaQuery.of(context).size; 
```

ç»„ä»¶çš„buildæ–¹æ³•ä¸­å¯ä»¥é€šè¿‡ï¼Œ=MediaQuery.of(context).size; 

```Bash
Widget build(BuildContext context) { 
final size =MediaQuery.of(context).size; 
final width =size.width; 
final height =size.height; 
}
```

### **å›ºå®šå¯¼èˆªæ¡ˆä¾‹** 

```Bash
class HomePage extends StatelessWidget { 
const HomePage({Key? key}) : super(key: key); 
@override 
Widget build(BuildContext context) { 
final size = MediaQuery.of(context).size; 
return Stack( 
children: [ 
ListView( 
padding: const EdgeInsets.only(top: 45), 
children: const [ 
ListTile( 
title: Text("è¿™æ˜¯ä¸€ä¸ªæ ‡é¢˜ "), 
), 
ListTile( 
title: Text("è¿™æ˜¯ä¸€ä¸ªæ ‡é¢˜"), 
), 
ListTile( 
title: Text("è¿™æ˜¯ä¸€ä¸ªæ ‡é¢˜"), 
), 
...
], 
), 
Positioned( 
top: 0, 
left: 0, 
height: 40, 
width: size.width, 
child: Container( 
alignment: Alignment.center, 
color: Colors.black, 
child: const Text("ä½ å¥½FLutter",style: TextStyle(color: 
Colors.white),), 
)) 
], 
); 
} 
} 
```

## **AspectRatio** 

**AspectRatio**çš„ä½œç”¨æ˜¯æ ¹æ®è®¾ç½®è°ƒæ•´å­å…ƒç´ childçš„å®½é«˜æ¯”ã€‚ 

**AspectRatio**é¦–å…ˆä¼šåœ¨å¸ƒå±€é™åˆ¶æ¡ä»¶å…è®¸çš„èŒƒå›´å†…å°½å¯èƒ½çš„æ‰©å±•ï¼Œwidgetçš„é«˜åº¦æ˜¯ç”±å®½åº¦å’Œæ¯”ç‡å†³å®šçš„ï¼Œç±»ä¼¼äºBoxFitä¸­çš„containï¼ŒæŒ‰ç…§å›ºå®šæ¯”ç‡å»å°½é‡å æ»¡åŒºåŸŸã€‚ 

å¦‚æœåœ¨æ»¡è¶³æ‰€æœ‰é™åˆ¶æ¡ä»¶è¿‡åæ— æ³•æ‰¾åˆ°ä¸€ä¸ªå¯è¡Œçš„å°ºå¯¸ï¼ŒAspectRatioæœ€ç»ˆå°†ä¼šå»ä¼˜å…ˆé€‚åº”å¸ƒå±€é™åˆ¶æ¡ä»¶ï¼Œè€Œå¿½ç•¥æ‰€è®¾ç½®çš„æ¯”ç‡ã€‚ 

| åç§°        | åŠŸèƒ½                                                         |
| ----------- | ------------------------------------------------------------ |
| aspectRatio | å®½é«˜æ¯”ï¼Œæœ€ç»ˆå¯èƒ½ä¸ä¼šæ ¹æ®è¿™ä¸ªå€¼å»å¸ƒå±€ï¼Œå…·ä½“åˆ™è¦çœ‹ç»¼åˆå› ç´ ï¼Œå¤–å±‚æ˜¯å¦å…è®¸  æŒ‰ç…§è¿™ç§æ¯”ç‡è¿›è¡Œå¸ƒå±€ï¼Œè¿™åªæ˜¯ä¸€ä¸ªå‚è€ƒå€¼ |
| child       | å­ç»„ä»¶                                                       |

```Bash
child: AspectRatio(
aspectRatio: 2.0/1.0,
child: Container(
  color: Colors.red,
),
),
```

ä¸Šé¢çš„ä»£ç è¡¨ç¤ºè¯¥æ¡†æ¡†çš„å®½é«˜æ¯”æ˜¯2:1ï¼Œé»˜è®¤å®½åº¦å æ»¡æ•´ä¸ªçˆ¶å…ƒç´ 

## **Flutter Cardç»„ä»¶**

Cardæ˜¯å¡ç‰‡ç»„ä»¶å—ï¼Œå†…å®¹å¯ä»¥ç”±å¤§å¤šæ•°ç±»å‹çš„Widgetæ„æˆï¼ŒCardå…·æœ‰åœ†è§’å’Œé˜´å½±ï¼Œè¿™è®©å®ƒçœ‹èµ·æ¥æœ‰ç«‹ä½“æ„Ÿã€‚ 

| åç§°         | åŠŸèƒ½                                                         |
| ------------ | ------------------------------------------------------------ |
| margin       | å¤–è¾¹è·                                                       |
| child        | å­ç»„ä»¶                                                       |
| elevation    | é˜´å½±å€¼çš„æ·±åº¦                                                 |
| color        | èƒŒæ™¯é¢œè‰²                                                     |
| shadowColor  | é˜´å½±é¢œè‰²                                                     |
| margin       | å¤–è¾¹è·                                                       |
| clipBehavior | clipBehavior å†…å®¹æº¢å‡ºçš„å‰ªåˆ‡æ–¹å¼ Clip.noneä¸å‰ªåˆ‡ Clip.hardEdgeè£å‰ªä½†ä¸åº”  ç”¨æŠ—é”¯é½¿ Clip.antiAliasè£å‰ªè€Œä¸”æŠ—é”¯é½¿ Clip.antiAliasWithSaveLayerå¸¦æœ‰æŠ—é”¯  é½¿çš„å‰ªè¾‘ï¼Œå¹¶åœ¨å‰ªè¾‘ä¹‹åç«‹å³ä¿å­˜saveLayer |
| Shape        | Cardçš„é˜´å½±æ•ˆæœï¼Œé»˜è®¤çš„é˜´å½±æ•ˆæœä¸ºåœ†è§’çš„é•¿æ–¹å½¢è¾¹ã€‚  shape: const  RoundedRectangleBorder(  borderRadius: BorderRadius.all(Radius.circular(10))  ) |

ç¤ºä¾‹ï¼šå›¾ç‰‡åˆ—è¡¨å¡ç‰‡

![img](Flutterç¬”è®°.assets/172724888318523.png)

```Bash
class HomePage extends StatelessWidget {
  const HomePage({Key? key}) : super(key: key);

  Widget _initGridViewData(context, index) {
    return Container(
      decoration: BoxDecoration(border: Border.all(color: Colors.black26)),
      child: Column(
        children: <Widget>[
          Card(
            elevation: 20,
            shape: RoundedRectangleBorder(
              borderRadius: BorderRadius.circular(10),
            ),
            margin: const EdgeInsets.all(10),
            child: Container(
              margin: const EdgeInsets.only(top: 10), // å°†è¿™è¡Œç§»åˆ° Container å†…éƒ¨
              child: Column(
                children: <Widget>[
                  AspectRatio(
                    aspectRatio: 20 / 9,
                    child: Image.network(listData[index]["imageUrl"]),
                  ),
                  ListTile(
                    leading: ClipOval(
                      child: Image.network(
                        listData[index]["imageUrl"],
                        fit: BoxFit.cover,
                        height: 40,
                        width: 40,
                      ),
                    ),
                    title: Text(listData[index]["title"], style: const TextStyle(fontSize: 15)),
                    subtitle: const Text("by SuZhe"),
                  )
                ],
              ),
            ),
          ),
        ],
      ),
    );
  }

  @override
  Widget build(BuildContext context) {
    return GridView.builder(
        padding: const EdgeInsets.all(10),
        gridDelegate: const SliverGridDelegateWithFixedCrossAxisCount(
          crossAxisSpacing: 10, //æ°´å¹³å­Widgetä¹‹é—´é—´ è·
          mainAxisSpacing: 10, //å‚ç›´å­Widgetä¹‹é—´é—´ è·
          crossAxisCount: 2, //ä¸€è¡Œæ˜¾ç¤ºå¤šå°‘ä¸ªå…ƒç´ 
          childAspectRatio: 1, //å®½é«˜æ¯”
        ),
        itemCount:listData.length,
        itemBuilder: _initGridViewData);

  }
}
```

1. æ¯ä¸€å—æ•´ä¸ªæ˜¯ä¸€ä¸ªContainerï¼Œé‡Œé¢ä½¿ç”¨BoxDecorationè®¾ç½®äº†ç°è‰²èƒŒæ™¯å’Œè¾¹è·ï¼Œé‡Œé¢å†æ”¾ç½®ä¸€ä¸ªColumn
2. Columné‡Œé¢æ˜¯åŒ…è£¹åœ¨children: `<Widget>[]`ä¸­çš„ä¸€ä¸ªCardç»„ä»¶ï¼ŒCardç»„ä»¶å®šä¹‰äº†åœ†è§’å’Œè¾¹è·ï¼Œç„¶ååŒ…å«ç£Šå“¥Containerï¼Œè¿™ä¸ªContainerä¸»è¦çš„ä½œç”¨å°±æ˜¯è®©æˆ‘å€ŸåŠ©marginè®¾ç½®ä¸Šè¾¹è·çš„ï¼Œå…¶ä»–æ²¡å•¥ç”¨ã€‚
3. Containeré‡Œé¢åˆæ˜¯ä¸€ä¸ªColumnï¼Œé‡Œé¢åˆæ˜¯ä¸€ä¸ªåŒ…è£¹åœ¨children: `<Widget>[]`ä¸­çš„AspectRationå’ŒListTileï¼Œå…¶ä¸­AspectRationé‡Œé¢æ”¾ç½®äº†æœ€å¤§çš„é‚£å¼ å›¾ç‰‡ï¼ŒListTileé‡Œé¢æ”¾ç½®çš„åˆ™æ˜¯å°åœ†å½¢å›¾ç‰‡å’Œæ–‡å­—
4. ListTileé‡Œé¢çš„leading: ClipOval()åŒ…å«äº†åœ†è§’å›¾ç‰‡ï¼Œtitle: Text()åŒ…å«äº†æ ‡é¢˜æ–‡å­—ï¼Œsubtitle: const Text()åŒ…å«äº†å‰¯æ ‡é¢˜æ–‡å­—

## **Flutter æŒ‰é’®ç»„ä»¶**

**æŒ‰é’®ç»„ä»¶çš„å±æ€§**

| åç§°      | åŠŸèƒ½                                                         |
| --------- | ------------------------------------------------------------ |
| onPressed | å¿…å¡«å‚æ•°ï¼ŒæŒ‰ä¸‹æŒ‰é’®æ—¶è§¦å‘çš„å›è°ƒï¼Œæ¥æ”¶ä¸€ä¸ªæ–¹æ³•ï¼Œä¼ nullè¡¨ç¤ºæŒ‰é’®ç¦ç”¨ï¼Œä¼šæ˜¾ç¤º |
| child     | å­ç»„ä»¶                                                       |
| style     | é€šè¿‡ButtonStyleè£…é¥°                                          |

**ButtonStyleeé‡Œé¢çš„å¸¸ç”¨çš„å‚æ•°**

| åç§°            | å€¼ç±»å‹   | åŠŸèƒ½                                                         |
| --------------- | -------- | ------------------------------------------------------------ |
| foregroundColor | Color    | æ–‡æœ¬é¢œè‰²                                                     |
| backgroundColor | Color    | æŒ‰é’®çš„é¢œè‰²                                                   |
| shadowColor     | Color    | é˜´å½±é¢œè‰²                                                     |
| elevation       | double   | é˜´å½±çš„èŒƒå›´ï¼Œå€¼è¶Šå¤§é˜´å½±èŒƒå›´è¶Šå¤§                               |
| padding         |          | å†…è¾¹è·                                                       |
| shape           |          | è®¾ç½®æŒ‰é’®çš„å½¢çŠ¶ shape: MaterialStateProperty.all(  RoundedRectangleBorder(  borderRadius: BorderRadius.circular(10))  ) |
| side            | è®¾ç½®è¾¹æ¡† | MaterialStateProperty.all(BorderSide(width:1,color:Colors.red)) |

### **ElevatedButtonæ™®é€šæŒ‰é’®**

ElevatedButton å³"å‡¸èµ·"æŒ‰é’®ï¼Œå®ƒé»˜è®¤å¸¦æœ‰é˜´å½±å’Œç°è‰²èƒŒæ™¯ã€‚æŒ‰ä¸‹åï¼Œé˜´å½±ä¼šå˜å¤§ 

ä½¿ç”¨ ElevatedButton éå¸¸ç®€å•ï¼Œå¦‚ï¼š

```Bash
ElevatedButton( 
onPressed: () {}, 
child: const Text("æ™®é€šæŒ‰é’®") 
)
```

![img](Flutterç¬”è®°.assets/172724888318524.png)

### **TextButtonæ–‡æœ¬æŒ‰é’®**

TextButton å³æ–‡æœ¬æŒ‰é’®ï¼Œé»˜è®¤èƒŒæ™¯é€æ˜å¹¶ä¸å¸¦é˜´å½±ã€‚æŒ‰ä¸‹åï¼Œä¼šæœ‰èƒŒæ™¯è‰²

```Bash
TextButton( 
child: Text("æ–‡æœ¬æŒ‰é’®"), 
onPressed: () {}, 
) 
```

![img](Flutterç¬”è®°.assets/172724888318525.png)

### **OutlinedButtonè¾¹æ¡†æŒ‰é’®**

OutlineButton é»˜è®¤æœ‰ä¸€ä¸ªç°è‰²è¾¹æ¡†ï¼Œä¸å¸¦é˜´å½±ä¸”èƒŒæ™¯é€æ˜ã€‚æŒ‰ä¸‹åï¼Œè¾¹æ¡†é¢œè‰²ä¼šå˜äº®ã€åŒæ—¶å‡ºç°èƒŒæ™¯å’Œé˜´å½± 

```Bash
OutlinedButton( 
child: Text("è¾¹æ¡†æŒ‰é’®"), 
onPressed: () {}, 
) 
```

![img](Flutterç¬”è®°.assets/172724888318526.png)

### **IconButtonå›¾æ ‡æŒ‰é’®** 

IconButton æ˜¯ä¸€ä¸ªå¯ç‚¹å‡»çš„Iconï¼Œä¸åŒ…æ‹¬æ–‡å­—ï¼Œé»˜è®¤æ²¡æœ‰èƒŒæ™¯ï¼Œç‚¹å‡»åä¼šå‡ºç°èƒŒæ™¯ï¼ŒèƒŒæ™¯é»˜è®¤æ˜¯ä¸ªåœ†å½¢çš„

```Bash
IconButton( 
icon: Icon(Icons.thumb_up), 
onPressed: () {}, 
)
```

![img](Flutterç¬”è®°.assets/172724888318527.png)

### **å¸¦å›¾æ ‡çš„æŒ‰é’®**

`ElevatedButton` ã€ `TextButton` ã€ `OutlineButton` éƒ½æœ‰ä¸€ä¸ª icon æ„é€ å‡½æ•°ï¼Œé€šè¿‡å®ƒå¯ä»¥è½»æ¾åˆ›å»ºå¸¦å›¾æ ‡çš„æŒ‰é’® 

```Bash
ElevatedButton.icon( 
icon: Icon(Icons.send), 
label: Text("å‘é€"), 
onPressed: _onPressed, 
), 
OutlineButton.icon( 
icon: Icon(Icons.add), 
label: Text("æ·»åŠ "), 
onPressed: _onPressed, 
), 
TextButton.icon( 
icon: Icon(Icons.info), 
label: Text("è¯¦æƒ…"), 
onPressed: _onPressed, 
), 
```

![img](Flutterç¬”è®°.assets/172724888318528.png)

### **ä¿®æ”¹æŒ‰é’®çš„å®½åº¦é«˜åº¦**

åœ¨å¤–é¢åŠ ä¸€ä¸ªSizedBox

### **è‡ªé€‚åº”æŒ‰é’®**

ä½¿ç”¨Expanded

```Bash
Row( 
mainAxisAlignment: MainAxisAlignment.center, 
children: <Widget>[ 
Expanded( 
child: Container( 
height: 60, 
margin: const EdgeInsets.all(10), 
child: ElevatedButton( 
child: const Text('è‡ªé€‚åº”æŒ‰é’®'), 
onPressed: () { 
print("è‡ªé€‚åº”æŒ‰é’®"); 
}, 
), 
), 
) 
], 
), 
```

### **é…ç½®åœ†å½¢åœ†è§’æŒ‰é’®** 

```Bash
ElevatedButton( 
style: ButtonStyle( 
backgroundColor:MaterialStateProperty.all(Colors.blue), 
foregroundColor: MaterialStateProperty.all(Colors.white), 
elevation: MaterialStateProperty.all(20), 
shape: MaterialStateProperty.all( 
RoundedRectangleBorder( 
borderRadius: BorderRadius.circular(10)) 
), 
), 
onPressed: () { 
print("åœ†è§’æŒ‰é’®"); 
}, 
child: const Text('åœ†è§’') 
) 
```

é€šè¿‡åœ¨Buttonä¸­æ·»åŠ style: ButtonStyle()æ¥å®ç°åœ†è§’

`elevation: MaterialStateProperty.all(20),`ï¼šè¿™ä¸€è¡Œè®¾ç½®æŒ‰é’®çš„é«˜ç¨‹ï¼ˆelevationï¼‰ä¸º20ã€‚é«˜ç¨‹æ˜¯æŒ‰é’®çš„ç«‹ä½“æ„Ÿï¼Œæ•°å­—è¶Šå¤§ï¼ŒæŒ‰é’®çœ‹èµ·æ¥å°±è¶Šå‡¸èµ·ã€‚

`borderRadius: BorderRadius.circular(10))`ï¼šè¿™ä¸€è¡Œè®¾ç½®è¾¹æ¡†çš„åœ†è§’åŠå¾„ä¸º10ï¼Œä½¿æŒ‰é’®å…·æœ‰åœ†è§’å¤–è§‚ã€‚

å¦‚æœæƒ³è¦å°†åœ†è§’æ”¹æˆåœ†å½¢ï¼Œåˆ™RoundedRectangleBorder( borderRadius: BorderRadius.circular(10)) æ”¹æˆCircleBorder(side: BorderSide(color: Colors.*white*)

### **ä¿®æ”¹OutlinedButtonè¾¹æ¡†** 

**OutlinedButton**å¯ä»¥å•ç‹¬è®¾ç½®è¾¹æ¡†çš„ç²—ç»†ä»¥åŠé¢œè‰²

```Bash
OutlinedButton(
  style: ButtonStyle(
    foregroundColor: MaterialStateProperty.all(Colors.black),
    side: MaterialStateProperty.all(
      const BorderSide(width: 1, color: Colors.red),
    ),
  ),
  onPressed: () {},
  child: const Text("æ³¨å†Œ é…ç½®è¾¹æ¡†"),
),
```

![img](Flutterç¬”è®°.assets/172724888318529.png)

## **Wrapç»„ä»¶**

Wrapå¯ä»¥å®ç°æµå¸ƒå±€ï¼Œå•è¡Œçš„Wrapè·ŸRowè¡¨ç°å‡ ä¹ä¸€è‡´ï¼Œå•åˆ—çš„Wrapåˆ™è·ŸColumnè¡¨ç°å‡ ä¹ä¸€è‡´ã€‚ä½†Rowä¸Columnéƒ½æ˜¯å•è¡Œå•åˆ—çš„ï¼ŒWrapåˆ™çªç ´äº†è¿™ä¸ªé™åˆ¶ï¼ŒmainAxisä¸Šç©ºé—´ä¸è¶³æ—¶ï¼Œåˆ™å‘crossAxisä¸Šå»æ‰©å±•æ˜¾ç¤º

| åç§°              | åŠŸèƒ½                                                         |
| ----------------- | ------------------------------------------------------------ |
| direction         | ä¸»è½´çš„æ–¹å‘ï¼Œé»˜è®¤æ°´å¹³                                         |
| alignment         | ä¸»è½´çš„å¯¹å…¶æ–¹å¼                                               |
| spacing           | ä¸»è½´æ–¹å‘ä¸Šçš„é—´è·                                             |
| textDirection     | æ–‡æœ¬æ–¹å‘                                                     |
| verticalDirection | å®šä¹‰äº†childrenæ‘†æ”¾é¡ºåºï¼Œé»˜è®¤æ˜¯downï¼Œè§Flexç›¸å…³               |
| runAlignment      | runçš„å¯¹é½æ–¹å¼ã€‚runå¯ä»¥ç†è§£ä¸ºæ–°çš„è¡Œæˆ–è€…åˆ—ï¼Œå¦‚æœæ˜¯æ°´å¹³æ–¹å‘å¸ƒå±€çš„è¯ï¼Œ  runå¯ä»¥ç†è§£ä¸ºæ–°çš„ä¸€è¡Œ |
| runSpacing        | runçš„é—´è·                                                    |

ç¤ºä¾‹

**ç®€å•ä½¿ç”¨**

![img](Flutterç¬”è®°.assets/172724888318530.png)

```Bash
class LayoutDemo extends StatelessWidget {
  const LayoutDemo({Key? key}) : super(key: key);
  @override
  Widget build(BuildContext context) {
    return Padding(
        padding:const EdgeInsets.all(3),
    child: Wrap(
    spacing: 5,
    runSpacing: 5,
// direction: Axis.vertical,
// alignment:WrapAlignment.start,
// runAlignment: WrapAlignment.center,
    children: <Widget>[
    Button("ç¬¬1é›†", onPressed: () {}),
    Button("ç¬¬2é›†", onPressed: () {}),
    Button("ç¬¬3é›†", onPressed: () {}),
    Button("ç¬¬4é›†", onPressed: () {}),
    Button("ç¬¬5é›†", onPressed: () {}),
    Button("ç¬¬6é›†", onPressed: () {}),
    Button("ç¬¬7é›†", onPressed: () {}),
    Button("ç¬¬8é›†", onPressed: () {}),
    Button("ç¬¬9é›†", onPressed: () {}),
    Button("ç¬¬10é›†", onPressed: () {}),
    Button("ç¬¬11é›†", onPressed: () {}),
    Button("ç¬¬12é›†", onPressed: () {}),
    Button("ç¬¬13é›†", onPressed: () {}),
    Button("ç¬¬14é›†", onPressed: () {}),
    Button("ç¬¬15é›†", onPressed: () {}),
    Button("ç¬¬16é›†", onPressed: () {}),
    Button("ç¬¬17é›†", onPressed: () {}),
    Button("ç¬¬18é›†", onPressed: () {}),
    ],
    ),
    );
  }
}
class Button extends StatelessWidget {
  String text;
  void Function()? onPressed;
  Button(this.text, {Key? key, required this.onPressed}) : super(key: key);
  @override
  Widget build(BuildContext context) {
    return ElevatedButton(
      onPressed: onPressed,
      style: ButtonStyle(
        backgroundColor:
        MaterialStateProperty.all(const Color.fromARGB(255, 16, 56, 127)),
        foregroundColor: MaterialStateProperty.all(Colors.white),
      ),
      child: Text(text),
    );
  }
}
```

## **Flutter StatelessWidget ã€StatefulWidget**

åœ¨Flutterä¸­è‡ªå®šä¹‰ç»„ä»¶å…¶å®å°±æ˜¯ä¸€ä¸ªç±»ï¼Œè¿™ä¸ªç±»éœ€è¦ç»§æ‰¿StatelessWidget/StatefulWidgetã€‚ 

**StatelessWidget**æ˜¯æ— çŠ¶æ€ç»„ä»¶ï¼ŒçŠ¶æ€ä¸å¯å˜çš„widget 

**StatefulWidget**æ˜¯æœ‰çŠ¶æ€ç»„ä»¶ï¼ŒæŒæœ‰çš„çŠ¶æ€å¯èƒ½åœ¨widgetç”Ÿå‘½å‘¨æœŸæ”¹å˜ã€‚ 

**é€šä¿—çš„è®²**ï¼šå¦‚æœæˆ‘ä»¬æƒ³æ”¹å˜é¡µé¢ä¸­çš„æ•°æ®çš„è¯è¿™ä¸ªæ—¶å€™å°±éœ€è¦ç”¨åˆ°StatefulWidget

### **StatefulWidgetå®ç°ä¸€ä¸ªè®¡æ•°å™¨çš„åŠŸèƒ½**

```Bash
import 'package:flutter/material.dart';
void main() {
  runApp(const MyApp());
}
class MyApp extends StatelessWidget {
  const MyApp({Key? key}) : super(key: key);
// This widget is the root of your application.
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: 'Flutter Demo',
      theme: ThemeData(
        primarySwatch: Colors.blue,
      ),
      home: Scaffold(
        appBar: AppBar(title: const Text("Flutter App")),
        body: const HomePage(),
      ),
    );
  }
}
class HomePage extends StatefulWidget {
  const HomePage({Key? key}) : super(key: key);
  @override
  State<HomePage> createState() => _HomePageState();
}
class _HomePageState extends State<HomePage> {
  int countNum=0;
  @override
  Widget build(BuildContext context) {
    return Center(
      child: Column(
        children: [
          const SizedBox(height: 40),
          Text("$countNum",style: Theme.of(context).textTheme.titleLarge),
          const SizedBox(height: 100,),
          ElevatedButton(onPressed: (){
            setState(() {
              countNum++;
            });
          }, child: const Text("å¢åŠ "))
        ],
      ),
    );
  }
}
```

å°†homepageç»§æ‰¿StatefulWidget ç„¶åå†ä½¿ç”¨setStateå°±å¯ä»¥åŠ¨æ€æ”¹å˜æ•°æ®å€¼äº†ï¼Œè¿™æ—¶å€™ä½ ç‚¹å‡»ä¸€æ¬¡æŒ‰é’®å°±ä¼šé‡æ–°buildä¸€æ¬¡

ä¹Ÿå¯ä»¥åœ¨Scaffoldé‡Œé¢åŠ å…¥å¦‚ä¸‹ä»£ç 

```Bash
floatingActionButton:FloatingActionButton( 
onPressed:() {
setstate((){
 _numcount++;
 });
 }, 
 child:const Icon(Icons.add)
 ,)//FloatingActionButton
```

è¿™æ˜¯å®šä¹‰äº†ä¸€ä¸ªæµ®åŠ¨çš„æŒ‰é’®ï¼Œç‚¹å‡»ä¹‹åå¢åŠ _numcountçš„å€¼

### Const å’Œfinalå®šä¹‰å¸¸é‡

åœ¨å®šä¹‰å¸¸é‡æ—¶ï¼Œå¯ä»¥ä½¿ç”¨constæˆ–è€…finalã€‚ä½†æ˜¯æ³¨æ„ï¼Œfinalæ˜¯è¿è¡Œæ—¶å¸¸é‡å¯ä»¥å…ˆå£°æ˜å†èµ‹å€¼ï¼Œè€Œconstå£°æ˜æ—¶å°±è¦èµ‹å€¼ã€‚

å› æ­¤åœ¨å®šä¹‰ç§æœ‰æ•°ç»„æ—¶å»ºè®®ä½¿ç”¨finalï¼Œä¾¿äºé€šè¿‡addæ–¹æ³•æ·»åŠ æ•°æ®

## **Scaffold-BottomNavigationBaråº•éƒ¨å¯¼èˆª** 

**BottomNavigationBar ç»„ä»¶ä»‹ç»**

BottomNavigationBar æ˜¯åº•éƒ¨å¯¼èˆªæ¡ï¼Œå¯ä»¥è®©æˆ‘ä»¬å®šä¹‰åº•éƒ¨Tabåˆ‡æ¢ï¼ŒbottomNavigationBaræ˜¯ 

Scaffoldç»„ä»¶çš„å‚æ•°ã€‚ 

![img](Flutterç¬”è®°.assets/172724888318531.png)

**BottomNavigationBar å¸¸è§çš„å±æ€§** 

| åç§°         | åŠŸèƒ½                                                         |
| ------------ | ------------------------------------------------------------ |
| items        | List åº•éƒ¨å¯¼èˆªæ¡æŒ‰é’®é›†åˆ                                      |
| iconSize     | icon                                                         |
| currentIndex | é»˜è®¤é€‰ä¸­ç¬¬å‡ ä¸ª                                               |
| onTap        | é€‰ä¸­å˜åŒ–å›è°ƒå‡½æ•°                                             |
| fixedColor   | é€‰ä¸­çš„é¢œè‰²                                                   |
| type         | BottomNavigationBarType.fixed BottomNavigationBarType.shifting |

### **é¡µé¢åˆ‡æ¢**

1. å†™ä¸€ä¸ª`final List<Widget>_pages`åŒ…å«ä½æˆ‘ä»¬éœ€è¦çš„å‡ ä¸ªé¡µé¢è¿›æ¥
2. è®¾ç½®body:_pages [_currentIndex],ç”¨å˜é‡è®¾ç½®ä¸»é¡µ
3. åœ¨æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶onTapæ–¹æ³•ä¸­ä½¿ç”¨setStateé‡è®¾_currentIndexå³å¯

å¦å¤–bottomNavigationBarä¸­æœ‰fixedColorå¯ä»¥é€‰æ‹©é¡µé¢è¢«é€‰ä¸­æ—¶ä¸‹é¢å›¾æ ‡çš„é¢œè‰²

åœ¨ä½ æ”¾å…¥ä¸‰ä¸ªä»¥ä¸Šçš„æŒ‰é”®æ˜¯å¿…é¡»é…ç½®typeå±æ€§å¦åˆ™å°±ä¼šå°†åŸæœ‰å›¾æ ‡æŒ¤æ‰ï¼Œ

## **Scaffold-FloatingActionButtonå®ç°ç±»ä¼¼é—²é±¼Appåº•éƒ¨å¯¼èˆªå‡¸èµ·æŒ‰é’®** 

FloatingActionButtonç®€ç§°FAB ,å¯ä»¥å®ç°æµ®åŠ¨æŒ‰é’®ï¼Œä¹Ÿå¯ä»¥å®ç°ç±»ä¼¼é—²é±¼appçš„åº•éƒ¨å‡¸èµ·å¯¼èˆª

| åç§°               | åŠŸèƒ½                               |
| ------------------ | ---------------------------------- |
| child              | å­è§†å›¾ï¼Œä¸€èˆ¬ä¸ºIconï¼Œä¸æ¨èä½¿ç”¨æ–‡å­— |
| tooltip            | FABè¢«é•¿æŒ‰æ—¶æ˜¾ç¤ºï¼Œä¹Ÿæ˜¯æ— éšœç¢åŠŸèƒ½    |
| backgroundColor    | èƒŒæ™¯é¢œè‰²                           |
| elevation          | æœªç‚¹å‡»çš„æ—¶å€™çš„é˜´å½±                 |
| hignlightElevation | ç‚¹å‡»æ—¶é˜´å½±å€¼ï¼Œé»˜è®¤12.0             |
| onPressed          | ç‚¹å‡»äº‹ä»¶å›è°ƒ                       |
| shape              | å¯ä»¥å®šä¹‰FABçš„å½¢çŠ¶ç­‰                |
| mini               | æ˜¯å¦æ˜¯miniç±»å‹é»˜è®¤false            |

## **Scaffold-æŠ½å±‰èœå•Drawer**

åœ¨Scaffoldç»„ä»¶é‡Œé¢ä¼ å…¥drawerå‚æ•°å¯ä»¥å®šä¹‰å·¦ä¾§è¾¹æ ï¼Œä¼ å…¥endDrawerå¯ä»¥å®šä¹‰å³ä¾§è¾¹æ ã€‚ä¾§è¾¹æ é»˜è®¤æ˜¯éšè—çš„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ‰‹æŒ‡æ»‘åŠ¨æ˜¾ç¤ºä¾§è¾¹æ ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ç‚¹å‡»æŒ‰é’®æ˜¾ç¤ºä¾§è¾¹æ ã€‚ 

```Bash
return Scaffold( 
appBar: AppBar( 
title: Text("Flutter App"), 
), 
drawer: Drawer( 
child: Text('å·¦ä¾§è¾¹æ '), 
), 
endDrawer: Drawer( 
child: Text('å³ä¾§ä¾§è¾¹æ '), 
), 
);
```

### **DrawerHeader**

**å¸¸è§å±æ€§ï¼š**

| åç§°           | åŠŸèƒ½             |
| -------------- | ---------------- |
| decoration     | è®¾ç½®é¡¶éƒ¨èƒŒæ™¯é¢œè‰² |
| child          | é…ç½®å­å…ƒç´        |
| padding å†…è¾¹è· | å†…è¾¹è·           |
| margin         | å¤–è¾¹è·           |

## **Flutter AppBar TabBar TabBarView**

### **AppBarè‡ªå®šä¹‰é¡¶éƒ¨æŒ‰é’®å›¾æ ‡ã€é¢œè‰²**

| åç§°            | åŠŸèƒ½                                                         |
| --------------- | ------------------------------------------------------------ |
| leading         | åœ¨æ ‡é¢˜å‰é¢æ˜¾ç¤ºçš„ä¸€ä¸ªæ§ä»¶ï¼Œåœ¨é¦–é¡µé€šå¸¸æ˜¾ç¤ºåº”ç”¨çš„ logoï¼›åœ¨å…¶ä»–ç•Œé¢é€šå¸¸æ˜¾ç¤ºä¸ºè¿”å›æŒ‰é’® |
| title           | æ ‡é¢˜ï¼Œé€šå¸¸æ˜¾ç¤ºä¸ºå½“å‰ç•Œé¢çš„æ ‡é¢˜æ–‡å­—ï¼Œå¯ä»¥æ”¾ç»„ä»¶               |
| actions         | é€šå¸¸ä½¿ç”¨ IconButton æ¥è¡¨ç¤ºï¼Œå¯ä»¥æ”¾æŒ‰é’®ç»„                     |
| bottom          | é€šå¸¸æ”¾tabBarï¼Œæ ‡é¢˜ä¸‹é¢æ˜¾ç¤ºä¸€ä¸ª Tab å¯¼èˆªæ                     |
| backgroundColor | å¯¼èˆªèƒŒæ™¯é¢œè‰²                                                 |
| iconTheme       | å›¾æ ‡æ ·å¼                                                     |
| centerTitle     | æ ‡é¢˜æ˜¯å¦å±…ä¸­æ˜¾ç¤º                                             |

1. é¦–å…ˆè¦è®©è¯¥é¡µé¢çš„ç±»withä¸€ä¸‹SingleTickerProviderStateMixin

```Bash
class _HomePageState extends State<HomePage>
    with SingleTickerProviderStateMixin {
    
    }
```

1. å®šä¹‰TabController

```Bash
late TabController _tabController;
```

1. åœ¨void initState()æ–¹æ³•ä¸­ï¼Œä¸º_tabControllerèµ‹å€¼
2. åœ¨Widget build(BuildContext context)æ–¹æ³•ä¸­returnä¸€ä¸ªScaffold
3. Scaffoldé‡Œé¢æœ‰appBarå±æ€§ï¼Œappbaré‡Œé¢æœ‰titleå±æ€§ï¼Œé‡Œé¢æ˜¯ç”¨æ¥æ”¯æ’‘é«˜åº¦çš„SizedBoxå’Œå¾ˆå¤šçš„TabBar
4. Scaffoldé‡Œé¢è¿˜æœ‰bodyå±æ€§ï¼Œé‡Œé¢æœ‰TabBarViewï¼Œè¿™ä¸ªTabBarViewé‡Œé¢æœ‰æ§åˆ¶å™¨controllerå’Œè‡ªå®šä¹‰ç¼“å­˜ç»„ä»¶KeepAliveWrapperï¼Œè‡ªå®šä¹‰ç¼“å­˜ç»„ä»¶é‡Œé¢æ˜¯å¾ˆå¤šçš„é¡µé¢

### **Flutter AppBarç»“åˆTabBarå®ç°é¡¶éƒ¨Tabåˆ‡æ¢**

**TabBarå¸¸è§å±æ€§ï¼š** 

| åç§°                 | åŠŸèƒ½                                                         |
| -------------------- | ------------------------------------------------------------ |
| tabs                 | æ˜¾ç¤ºçš„æ ‡ç­¾å†…å®¹ï¼Œä¸€èˆ¬ä½¿ç”¨Tabå¯¹è±¡,ä¹Ÿå¯ä»¥æ˜¯å…¶ä»–çš„Widget         |
| controller           | TabControllerå¯¹è±¡                                            |
| isScrollable         | æ˜¯å¦å¯æ»šåŠ¨                                                   |
| indicatorColor       | æŒ‡ç¤ºå™¨é¢œè‰²                                                   |
| indicatorWeight      | æŒ‡ç¤ºå™¨é«˜åº¦                                                   |
| indicatorPadding     | åº•éƒ¨æŒ‡ç¤ºå™¨çš„Padding                                          |
| indicator            | æŒ‡ç¤ºå™¨decorationï¼Œä¾‹å¦‚è¾¹æ¡†ç­‰                                 |
| indicatorSize        | æŒ‡ç¤ºå™¨å¤§å°è®¡ç®—æ–¹å¼ï¼ŒTabBarIndicatorSize.labelè·Ÿæ–‡å­—ç­‰å®½,TabBarIndicatorSize.tabè·Ÿæ¯ä¸ªtabç­‰å®½ |
| labelColor           | é€‰ä¸­labelé¢œè‰²                                                |
| labelStyle           | é€‰ä¸­labelçš„Style                                             |
| labelPadding         | æ¯ä¸ªlabelçš„paddingå€¼                                         |
| unselectedLabelColor | æœªé€‰ä¸­labelé¢œè‰²                                              |
| unselectedLabelStyle | æœªé€‰ä¸­labelçš„Style                                           |

```Bash
@override
void initState() {
  super.initState();
  _tabController = TabController(length: 8, vsync: this);
  //ç›‘å¬_tabControllerçš„æ”¹å˜äº‹ä»¶
  _tabController.addListener(() {
    // print(_tabController.index);  
    if (_tabController.animation!.value==_tabController.index){
      print(_tabController.index);    //è·å–ç‚¹å‡»æˆ–æ»‘åŠ¨é¡µé¢çš„ç´¢å¼•å€¼
    }
  });
}
```

### **BottomNavigationBar çš„é¡µé¢ä¸­ä½¿ç”¨Tabbar**

ç”±äºä»£ç è¾ƒå¤šï¼Œæˆ‘å’Œå‰é¢çš„å‡ æ¡åˆå¹¶ä¸€èµ·å°†ä»£ç å®Œæ•´çš„è´´å‡ºæ¥

```Bash
import 'package:flutter/material.dart';
import '../../tools/KeepAliveWrapper.dart';

class HomePage extends StatefulWidget {
  const HomePage({super.key});

  @override
  State<HomePage> createState() => _HomePageState();
}

class _HomePageState extends State<HomePage>
    with SingleTickerProviderStateMixin {
  late TabController _tabController;
  @override
  void initState() {
    super.initState();
    _tabController = TabController(length: 8, vsync: this);
    //ç›‘å¬_tabControllerçš„æ”¹å˜äº‹ä»¶
    _tabController.addListener(() {
      // print(_tabController.index);  
      if (_tabController.animation!.value==_tabController.index){
        print(_tabController.index);    //è·å–ç‚¹å‡»æˆ–æ»‘åŠ¨é¡µé¢çš„ç´¢å¼•å€¼
      }
    });
  }
  //ç»„ä»¶é”€æ¯çš„æ—¶å€™è§¦å‘
  @override
  void dispose() {
    // TODO: implement dispose
    super.dispose();
    //é”€æ¯_tabController
    _tabController.dispose();
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: PreferredSize(
        //å¯ä»¥é…ç½®appBarçš„é«˜åº¦
        preferredSize: const Size.fromHeight(40),
        child: AppBar(
          elevation: 0.5,
          backgroundColor: Colors.white,
          title: SizedBox(
            //æ”¹TabBarçš„é«˜åº¦
            height: 30,
            child: TabBar(
              labelStyle: const TextStyle(fontSize: 14),
              isScrollable: true,
              indicatorColor: Colors.red, //åº•éƒ¨æŒ‡ç¤ºå™¨çš„é¢œè‰²
              labelColor: Colors.red,
              unselectedLabelColor: Colors.black, //lableæœªé€‰ä¸­çš„é¢œè‰²
              indicatorSize: TabBarIndicatorSize.label,
              controller: _tabController,
              // onTap: (index){   //åªèƒ½ç›‘å¬ç‚¹å‡»äº‹ä»¶ æ²¡æ³•ç›‘å¬æ»‘åŠ¨
              //   print(index);
              // },
              tabs: const [
                Tab(
                  child: Text("å…³æ³¨"),
                ),
                Tab(
                  child: Text("çƒ­é—¨"),
                ),
                Tab(
                  child: Text("è§†é¢‘"),
                ),
                Tab(
                  child: Text("å¨±ä¹"),
                ),
                Tab(
                  child: Text("ç¯®çƒ"),
                ),
                Tab(
                  child: Text("æ·±åœ³"),
                ),
                Tab(
                  child: Text("ç–«æƒ…"),
                ),
                Tab(
                  child: Text("å…¶ä»–"),
                ),
              ],
            ),
          ),
        ),
      ),
      body: TabBarView(controller: _tabController, children: [
        KeepAliveWrapper(  //è‡ªå®šä¹‰çš„ç¼“å­˜ç»„ä»¶
            child: ListView(
          children: const [
            ListTile(
              title: Text("æˆ‘æ˜¯å…³æ³¨åˆ—è¡¨1"),
            ),
            ListTile(
              title: Text("æˆ‘æ˜¯å…³æ³¨åˆ—è¡¨1"),
            ),
            ListTile(
              title: Text("æˆ‘æ˜¯å…³æ³¨åˆ—è¡¨1"),
            ),
            ListTile(
              title: Text("æˆ‘æ˜¯å…³æ³¨åˆ—è¡¨1"),
            ),
            ListTile(
              title: Text("æˆ‘æ˜¯å…³æ³¨åˆ—è¡¨1"),
            ),
            ListTile(
              title: Text("æˆ‘æ˜¯å…³æ³¨åˆ—è¡¨1"),
            ),
            ListTile(
              title: Text("æˆ‘æ˜¯å…³æ³¨åˆ—è¡¨1"),
            ),
            ListTile(
              title: Text("æˆ‘æ˜¯å…³æ³¨åˆ—è¡¨1"),
            ),
            ListTile(
              title: Text("æˆ‘æ˜¯å…³æ³¨åˆ—è¡¨1"),
            ),
            ListTile(
              title: Text("æˆ‘æ˜¯å…³æ³¨åˆ—è¡¨1"),
            ),
            ListTile(
              title: Text("æˆ‘æ˜¯å…³æ³¨åˆ—è¡¨1"),
            ),
            ListTile(
              title: Text("æˆ‘æ˜¯å…³æ³¨åˆ—è¡¨1"),
            ),
            ListTile(
              title: Text("æˆ‘æ˜¯å…³æ³¨åˆ—è¡¨1"),
            ),
            ListTile(
              title: Text("æˆ‘æ˜¯å…³æ³¨åˆ—è¡¨1"),
            ),
            ListTile(
              title: Text("æˆ‘æ˜¯å…³33333æ³¨åˆ—è¡¨1"),
            ),
            ListTile(
              title: Text("æˆ‘æ˜¯å…³33333æ³¨åˆ—è¡¨1"),
            ),
            ListTile(
              title: Text("æˆ‘æ˜¯å…³æ³¨åˆ—è¡¨1"),
            ),
            ListTile(
              title: Text("æˆ‘æ˜¯å…³2æ³¨åˆ—è¡¨1"),
            ),
            ListTile(
              title: Text("æˆ‘æ˜¯å…³æ³¨åˆ—è¡¨1"),
            ),
            ListTile(
              title: Text("æˆ‘æ˜¯å…³æ³¨2è¡¨1"),
            ),
            ListTile(
              title: Text("æˆ‘æ˜¯å…³æ³¨åˆ—è¡¨1"),
            ),
            ListTile(
              title: Text("æˆ‘æ˜¯å…³æ³¨åˆ—è¡¨1"),
            ),
            ListTile(
              title: Text("æˆ‘æ˜¯å…³33333æ³¨åˆ—è¡¨1"),
            ),
          ],
        )),
        const Text("æˆ‘æ˜¯çƒ­é—¨"),
        const Text("è§†é¢‘"),
        const Text("å¨±ä¹"),
        const Text("ç¯®çƒ"),
        const Text("æ·±åœ³"),
        const Text("ç–«æƒ…"),
        const Text("å…¶ä»–"),
      ]),
    );
  }
}
```

### **preferredSizeç»„ä»¶**

PreferredSizeå¯ä»¥æ”¹å˜appBarçš„é«˜åº¦ 

```Bash
Scaffold( 
appBar: PreferredSize( 
preferredSize: Size.fromHeight(50), 
child: AppBar( 
.... 
) 
), 
body: Test(), 
)
```

### **è‡ªå®šä¹‰KeepAliveWrapper ç¼“å­˜é¡µé¢** 

 AutomaticKeepAliveClientMixin å¯ä»¥å¿«é€Ÿçš„å®ç°é¡µé¢ç¼“å­˜åŠŸèƒ½ï¼Œä½†æ˜¯é€šè¿‡æ··å…¥çš„æ–¹å¼å®ç°ä¸æ˜¯å¾ˆä¼˜é›…ï¼Œ æ‰€ä»¥æˆ‘ä»¬æœ‰å¿…è¦å¯¹AutomaticKeepAliveClientMixin æ··å…¥è¿›è¡Œå°è£…

```Bash
import 'package:flutter/material.dart'; 
class KeepAliveWrapper extends StatefulWidget { 
const KeepAliveWrapper( 
{Key? key, @required this.child, this.keepAlive = true}) 
: super(key: key); 
final Widget? child; 
final bool keepAlive; 
@override 
State<KeepAliveWrapper> createState() => _KeepAliveWrapperState(); 
} 
class _KeepAliveWrapperState extends State<KeepAliveWrapper> 
with AutomaticKeepAliveClientMixin { 
@override 
Widget build(BuildContext context) { 
return widget.child!; 
} 
@override 
bool get wantKeepAlive => widget.keepAlive; 
@override 
void didUpdateWidget(covariant KeepAliveWrapper oldWidget) { 
if (oldWidget.keepAlive != widget.keepAlive) { 
// keepAlive çŠ¶æ€éœ€è¦æ›´æ–°ï¼Œå®ç°åœ¨ AutomaticKeepAliveClientMixin ä¸­ 
updateKeepAlive(); 
}
super.didUpdateWidget(oldWidget); 
} 
}
```

###  **ç›‘å¬TabControlleræ”¹å˜äº‹ä»¶** 

```Bash
void initState() { 
super.initState(); 
_tabController = TabController(length: 8, vsync: this); 
//ç›‘å¬_tabControllerçš„æ”¹å˜äº‹ä»¶ 
_tabController.addListener(() { 
if (_tabController.animation!.value==_tabController.index){ 
print(_tabController.index); //è·å–ç‚¹å‡»æˆ–æ»‘åŠ¨é¡µé¢çš„ç´¢å¼•å€¼ 
} 
}); 
}
```

### **MaterialApp å»æ‰debugå›¾æ ‡**

```Bash
return MaterialApp( 
debugShowCheckedModeBanner:false , //å»æ‰debugå›¾æ ‡ 
home:Tabs(), 
... 
);
```

## **Flutterä¸­çš„è·¯ç”±**

### **Flutter è·¯ç”±ä»‹ç»** 

Flutterä¸­çš„è·¯ç”±é€šä¿—çš„è®²å°±æ˜¯é¡µé¢è·³è½¬ã€‚åœ¨Flutterä¸­é€šè¿‡Navigatorç»„ä»¶ç®¡ç†è·¯ç”±å¯¼èˆªã€‚å¹¶æä¾›äº†ç®¡ç†å †æ ˆçš„æ–¹æ³•ã€‚å¦‚ï¼šNavigator.pushå’ŒNavigator.pop 

**Flutterä¸­ç»™æˆ‘ä»¬æä¾›äº†ä¸¤ç§é…ç½®è·¯ç”±è·³è½¬çš„æ–¹å¼**ï¼š1ã€åŸºæœ¬è·¯ç”± 2ã€å‘½åè·¯ç”±

### **Flutter ä¸­çš„æ™®é€šè·¯ç”±ä½¿ç”¨**

æ¯”å¦‚æˆ‘ä»¬ç°åœ¨æƒ³ä»HomePageç»„ä»¶è·³è½¬åˆ°SearchPageç»„ä»¶ã€‚ 

**1ã€éœ€è¦åœ¨HomPageä¸­å¼•å…¥SearchPage.dart** 

```Bash
import '../SearchPage.dart';
```

**2ã€åœ¨HomePageä¸­é€šè¿‡ä¸‹é¢æ–¹æ³•è·³è½¬** 

```Bash
Center( 
child: ElevatedButton(onPressed: (){ 
Navigator.of(context).push( 
MaterialPageRoute(builder: (context){ 
return const SearchPage(); 
}) 
); 
}, child: const Text("è·³è½¬åˆ°æœç´¢é¡µé¢")), 
) 
```

### **æ™®é€šè·¯ç”±è·³è½¬ä¼ å€¼**

è·³è½¬ä¼ å€¼å’Œè°ƒç”¨ç»„ä»¶ä¼ å€¼çš„å®ç°æ–¹æ³•æ˜¯ä¸€æ ·çš„ 

**1ã€å®šä¹‰ä¸€ä¸ªSearchPageæ¥æ”¶ä¼ å€¼**

```Bash
import 'package:flutter/material.dart'; 
class SearchPage extends StatefulWidget { 
final String title; 
const SearchPage({super.key,this.title="Search Page"}); 
@override 
State<SearchPage> createState() => _SearchPageState(); 
} 
class _SearchPageState extends State<SearchPage> { 
@override 
Widget build(BuildContext context) { 
return Scaffold( 
appBar: AppBar( 
title: Text(widget.title), 
centerTitle: true, 
), 
body: const Center( 
child: Text("ç»„ä»¶å±…ä¸­"), 
), 
); 
} 
}
```

**2ã€è·³è½¬é¡µé¢å®ç°ä¼ å€¼**

```Bash
Center( 
child: ElevatedButton(onPressed: (){ 
Navigator.of(context).push( 
MaterialPageRoute(builder: (context){ 
return const SearchPage(title: "æœç´¢é¡µé¢",); 
}) 
); 
}, child: const Text("è·³è½¬åˆ°æœç´¢é¡µé¢")), 
) 
```

### **Flutter ä¸­çš„å‘½åè·¯ç”±** 

**1ã€main.dartä¸­é…ç½®è·¯ç”±** 

```Bash
import 'package:flutter/material.dart'; 
import './pages/tabs.dart'; 
import './pages/search.dart'; 
import './pages/form.dart'; 
void main() { 
runApp(const MyApp()); 
} 
class MyApp extends StatelessWidget { 
const MyApp({Key? key}) : super(key: key); 
// This widget is the root of your application. 
@override 
Widget build(BuildContext context) { 
return MaterialApp( 
debugShowCheckedModeBanner:false, 
title: 'Flutter Demo', 
theme: ThemeData( 
primarySwatch: Colors.blue, 
), 
// home:const Tabs() , 
routes: { 
'/':(contxt)=>const Tabs(), 
'/search':(contxt) => const SearchPage(), 
'/form': (context) => const FormPage(), 
}, 
); 
} 
}
```

**2ã€è·³è½¬è·¯ç”±**

```Bash
ElevatedButton( 
onPressed: () { 
Navigator.pushNamed(context, '/form'); 
}, 
child: const Text("è·³è½¬åˆ°formé¡µé¢") 
)
```

### **å‘½åè·¯ç”±ä¼ å€¼** 

å®˜æ–¹æ–‡æ¡£ï¼šhttps://flutter.dev/docs/cookbook/navigation/navigate-with-arguments

**é…ç½®onGenerateRoute** 

## **Flutter Dialog**

## **Flutter PageView**

 Flutterä¸­çš„è½®åŠ¨å›¾ä»¥åŠæŠ–éŸ³ä¸Šä¸‹æ»‘é¡µåˆ‡æ¢è§†é¢‘åŠŸèƒ½ç­‰ç­‰ï¼Œè¿™äº›éƒ½å¯ä»¥é€šè¿‡ PageView è½»æ¾å®ç°

## **Flutter Keyè¯¦è§£**

æˆ‘ä»¬å¹³æ—¶ä¸€å®šæ¥è§¦è¿‡å¾ˆå¤šçš„ Widgetï¼Œæ¯”å¦‚ Containerã€Rowã€Column ç­‰ï¼Œå®ƒä»¬åœ¨æˆ‘ä»¬ç»˜åˆ¶ç•Œé¢çš„è¿‡ç¨‹ä¸­å‘æŒ¥ç€é‡è¦çš„ä½œç”¨ã€‚ä½†æ˜¯ä¸çŸ¥é“ä½ æœ‰æ²¡æœ‰æ³¨æ„åˆ°ï¼Œåœ¨å‡ ä¹æ¯ä¸ª Widget çš„æ„é€ å‡½æ•°ä¸­ï¼Œéƒ½æœ‰ä¸€ä¸ªå…±åŒçš„å‚æ•°ï¼Œå®ƒä»¬é€šå¸¸åœ¨å‚æ•°åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªï¼Œé‚£å°±æ˜¯ Keyã€‚ 

åœ¨Flutterä¸­ï¼Œ**Keyæ˜¯ä¸èƒ½é‡å¤ä½¿ç”¨çš„**ï¼Œæ‰€ä»¥Keyä¸€èˆ¬ç”¨æ¥åšå”¯ä¸€æ ‡è¯†ã€‚ç»„ä»¶åœ¨æ›´æ–°çš„æ—¶å€™ï¼Œå…¶çŠ¶æ€çš„ä¿å­˜ä¸»è¦æ˜¯é€šè¿‡åˆ¤æ–­**ç»„ä»¶çš„ç±»å‹**æˆ–è€…**keyå€¼**æ˜¯å¦ä¸€è‡´ã€‚å› æ­¤ï¼Œå½“å„ç»„ä»¶çš„ç±»å‹ä¸åŒçš„æ—¶å€™ï¼Œç±»å‹å·²ç»è¶³å¤Ÿç”¨æ¥åŒºåˆ†ä¸åŒçš„ç»„ä»¶äº†ï¼Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥ä¸å¿…ä½¿ç”¨keyã€‚ä½†æ˜¯å¦‚æœåŒæ—¶å­˜åœ¨å¤šä¸ªåŒä¸€ç±»å‹çš„æ§ä»¶çš„æ—¶å€™ï¼Œæ­¤æ—¶ç±»å‹å·²ç»æ— æ³•ä½œä¸ºåŒºåˆ†çš„æ¡ä»¶äº†ï¼Œæˆ‘ä»¬å°±éœ€è¦ä½¿ç”¨åˆ°keyã€‚ 

![img](Flutterç¬”è®°.assets/172724888318532.png)

## **AnimatedList å®ç°åŠ¨æ€åˆ—è¡¨**

 AnimatedList å’Œ ListView çš„åŠŸèƒ½å¤§ä½“ç›¸ä¼¼ï¼Œä¸åŒçš„æ˜¯ï¼Œ AnimatedList å¯ä»¥åœ¨åˆ—è¡¨ä¸­æ’å…¥æˆ–åˆ é™¤èŠ‚ç‚¹ 

æ—¶æ‰§è¡Œä¸€ä¸ªåŠ¨ç”»ï¼Œåœ¨éœ€è¦æ·»åŠ æˆ–åˆ é™¤åˆ—è¡¨é¡¹çš„åœºæ™¯ä¸­ä¼šæé«˜ç”¨æˆ·ä½“éªŒã€‚ 

## Flutter ç»„ä»¶é—´é€šä¿¡

### å›è°ƒé€šä¿¡

éœ€æ±‚â€œç‚¹å‡»å­ç»„ä»¶ï¼Œä¿®æ”¹çˆ¶ç»„ä»¶çš„èƒŒæ™¯é¢œè‰²ä¸å­ç»„ä»¶èƒŒæ™¯é¢œè‰²ä¸€è‡´â€

ä½¿ç”¨åœºæ™¯ï¼šä¸€èˆ¬ç”¨äºå­ç»„ä»¶å¯¹çˆ¶ç»„ä»¶ä¼ å€¼ã€‚

### InheritedWidget æ•°æ®å…±äº«

åœºæ™¯ï¼šä¸šåŠ¡å¼€å‘ä¸­ç»å¸¸ä¼šç¢°åˆ°è¿™æ ·çš„æƒ…å†µï¼Œå¤šä¸ªWidgetéœ€è¦åŒæ­¥åŒä¸€ä»½å…¨å±€æ•°æ®ï¼Œæ¯”å¦‚ç‚¹èµæ•°ã€è¯„è®ºæ•°ã€å¤œé—´æ¨¡å¼ç­‰ç­‰ã€‚

ä½¿ç”¨åœºæ™¯ ä¸€èˆ¬ç”¨äºçˆ¶ç»„ä»¶å¯¹å­ç»„ä»¶çš„è·¨ç»„ä»¶ä¼ å€¼ã€‚

### Global Keyé€šä¿¡

GlobalKeyèƒ½å¤Ÿè·¨Widgetè®¿é—®çŠ¶æ€ã€‚

éœ€æ±‚â€œç‚¹å‡»Aå­ç»„ä»¶ï¼Œä¿®æ”¹Bå­ç»„ä»¶çš„èƒŒæ™¯é¢œè‰²ä¸ºæŒ‡å®šçš„â€˜è“è‰²â€

ä½¿ç”¨åœºæ™¯ï¼šä¸€èˆ¬ç”¨äºè·¨ç»„ä»¶è®¿é—®çŠ¶æ€

è¿™ä¸ªåœ¨æˆ‘ä»¬çš„è®¾ç½®ç•Œé¢ä¸­æœ‰ç”¨åˆ°ï¼Œè®¾ç½®ç•Œé¢é¦–é¡µæœ‰å¾ˆå¤šè®¾ç½®é¡¹ã€‚å…¶ä¸­ç‚¹å‡»ä¸€ä¸ªè®¾ç½®é¡¹å°±ä¼šå¼¹å‡ºå…·ä½“çš„è®¾ç½®é¡¹çš„ç•Œé¢ã€‚è¿™å°±æ¶‰åŠåˆ°çˆ¶ç»„ä»¶ä¸å­ç»„ä»¶çš„é€šä¿¡

```Java
class _SettingsPanelState extends State<SettingsPanel> {
  final GlobalKey<NavigatorState> _navigatorKey = GlobalKey<NavigatorState>();

  @override
  Widget build(BuildContext context) => WillPopScope(
        onWillPop: () async => !await _navigatorKey.currentState!.maybePop(),
        child: Scaffold(
          backgroundColor: Colors.transparent,
          body: RightPanelDialog(
            width: 350,
            child: Navigator(
              key: _navigatorKey,
              initialRoute: widget.initialRoute ?? SettingsPanelPage.routeName,
              observers: [if (kReleaseMode) FirebaseAnalyticsObserver(analytics: FirebaseAnalytics.instance)],
              onGenerateRoute: (settings) {
                switch (settings.name) {
                  case SettingsPanelPage.routeName:
                    return MaterialPageRoute(builder: (_) => SettingsPanelPage());
                  case WallpaperPanelPage.routeName:
                    return MaterialPageRoute(builder: (_) => WallpaperPanelPage());
                  case UnsplashPanelPage.routeName:
                    return MaterialPageRoute(builder: (_) => UnsplashPanelPage());
                  case GradientPanelPage.routeName:
                    return MaterialPageRoute(builder: (_) => GradientPanelPage());
                  case ApplicationsPanelPage.routeName:
                    return MaterialPageRoute(builder: (_) => ApplicationsPanelPage());
                  case CategoriesPanelPage.routeName:
                    return MaterialPageRoute(builder: (_) => CategoriesPanelPage());
                  case WallpaperSettingsPanelPage.routeName:
                    return MaterialPageRoute(builder: (_) => WallpaperSettingsPanelPage());
                  case CategoryPanelPage.routeName:
                    return MaterialPageRoute(
                      builder: (_) => CategoryPanelPage(categoryId: settings.arguments! as int),
                    );
                  default:
                    throw ArgumentError.value(settings.name, "settings.name", "Route not supported.");
                }
              },
            ),
          ),
        ),
      );
}
```

### Navigator

1. **é¡µé¢è·³è½¬ï¼š**

è¦å®ç°é¡µé¢è·³è½¬ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨Navigator.pushæ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•æ¥å—ä¸€ä¸ªBuildContextå¯¹è±¡å’Œä¸€ä¸ªRouteå¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œç”¨äºå°†æ–°çš„é¡µé¢è·¯ç”±å‹å…¥æ ˆä¸­ã€‚

ä»£ç è¯­è¨€ï¼šjavascript

```JavaScript
Navigator.push(
  context,MaterialPageRoute(builder: (context) => SecondPage()),);
```

åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨MaterialPageRouteæ¥åˆ›å»ºä¸€ä¸ªæ–°çš„è·¯ç”±å¯¹è±¡ï¼Œå¹¶å°†å…¶å‹å…¥æ ˆä¸­ã€‚è¿™æ ·å°±å®ç°äº†ä»å½“å‰é¡µé¢è·³è½¬åˆ°åä¸ºSecondPageçš„æ–°é¡µé¢ã€‚

1. **é¡µé¢è¿”å›ï¼š**

è¦å®ç°é¡µé¢çš„è¿”å›æ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨Navigator.popæ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•æ¥å—ä¸€ä¸ªBuildContextå¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œç”¨äºå°†å½“å‰é¡µé¢å¯¹åº”çš„è·¯ç”±å¯¹è±¡ä»æ ˆä¸­å¼¹å‡ºï¼Œè¿”å›åˆ°ä¸Šä¸€ä¸ªé¡µé¢ã€‚

ä»£ç è¯­è¨€ï¼šjavascript

```JavaScript
Navigator.pop(context);
```

åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬è°ƒç”¨Navigator.popæ–¹æ³•ï¼Œå®ç°äº†ä»å½“å‰é¡µé¢è¿”å›åˆ°ä¸Šä¸€ä¸ªé¡µé¢çš„æ“ä½œã€‚

é¡µé¢è·¯ç”±å¯¼èˆªæ˜¯Flutteråº”ç”¨ç¨‹åºä¸­å¸¸è§çš„æ“ä½œä¹‹ä¸€ï¼Œå®ƒå…è®¸ç”¨æˆ·åœ¨ä¸åŒçš„é¡µé¢ä¹‹é—´è¿›è¡Œè·³è½¬å’Œå¯¼èˆªã€‚é€šè¿‡ä½¿ç”¨Navigator.pushå’ŒNavigator.popæ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°é¡µé¢çš„è·³è½¬å’Œè¿”å›ï¼Œä»è€Œå®ç°ä¸°å¯Œå¤šå½©çš„é¡µé¢å¯¼èˆªä½“éªŒã€‚

1. **è·¯ç”±å‚æ•°ä¼ é€’â€”â€”ä½¿ç”¨Navigator.pushNamedï¼š**

åœ¨Flutterä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦åœ¨é¡µé¢ä¹‹é—´ä¼ é€’å‚æ•°ï¼Œä»¥ä¾¿åœ¨ç›®æ ‡é¡µé¢ä¸­ä½¿ç”¨è¿™äº›å‚æ•°è¿›è¡Œç›¸å…³æ“ä½œã€‚ä¸‹é¢æˆ‘ä»¬å°†æ¢è®¨å¦‚ä½•åœ¨é¡µé¢ä¹‹é—´ä¼ é€’å‚æ•°ï¼Œå¹¶æ¼”ç¤ºå¦‚ä½•ä½¿ç”¨Navigator.pushNamedå’ŒRouteSettingsæ¥å®ç°è·¯ç”±å‚æ•°çš„ä¼ é€’ã€‚

```JavaScript
//æ¥å—å‚æ•°
class PageB extends StatelessWidget {
  final String name;
  final int age;

  // æ„é€ å‡½æ•°æ¥æ”¶å‚æ•°
  PageB({required this.name, required this.age});

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text('Page B'),
      ),
      body: Center(
        child: Column(
          mainAxisAlignment: MainAxisAlignment.center,
          children: <Widget>[
            Text('Name: $name'),
            Text('Age: $age'),
          ],
        ),
      ),
    );
  }
}
//ä¼ å‚
// å¯¼å…¥é¡µé¢Bçš„æ–‡ä»¶
import 'page_b.dart';

// åœ¨é€‚å½“çš„ä½ç½®è§¦å‘è·³è½¬äº‹ä»¶
Navigator.push(
  context,
  MaterialPageRoute(
    builder: (context) => PageB(name: 'John', age: 30),
  ),
);
```

## Flutter ä¸åŸç”Ÿé€šä¿¡

ä¸»è¦æœ‰ä¸‰ç§æ–¹å¼

![img](Flutterç¬”è®°.assets/172724888318533.png)

- MethodChannelï¼šç”¨äºæ–¹æ³•çš„ä¼ é€’ï¼Œå…è®¸æœ‰**è¿”å›å€¼**ï¼Œé€‚ç”¨äºä¸€æ¬¡é€šä¿¡
- BasicMessageChannelï¼šç”¨äºä¼ é€’å­—ç¬¦ä¸²æˆ–æ˜¯åŠç»“æ„åŒ–çš„æ¶ˆæ¯ï¼Œå¯æŒç»­é€šä¿¡ï¼Œ**åŒå‘é€šä¿¡**
- EventChannelï¼šç”¨äº**äº‹ä»¶æµ**çš„å‘é€ï¼Œå¯**æŒç»­é€šä¿¡**ä½†æ˜¯ä¸å¯å›å¤

MethodChannelçš„ä½¿ç”¨æµç¨‹ï¼š

â‘  **Flutter ç«¯**ï¼šåˆ›å»º **MethodChannel** å®ä¾‹ (é…ç½®é€šé“åç§°)ï¼Œé€šè¿‡ **å¼‚æ­¥** è°ƒç”¨ **invokeMethod(æ–¹æ³•åï¼Œå‚æ•°) æ¥**è°ƒç”¨å¹³å°æ–¹æ³•ï¼Œå¹¶å¯¹å¹³å°ç«¯çš„è¿”å›ç»“æœè¿›è¡Œå¤„ç†ã€‚

â‘¡ **Android ç«¯**ï¼šç»§æ‰¿ **FlutterActivity**ï¼Œé‡å†™ **configureFlutterEngine()** åœ¨å…¶ä¸­æ³¨å†Œ **MethodChannel**ï¼Œå¯¹è°ƒç”¨çš„æ–¹æ³•åè¿›è¡Œåˆ¤æ–­ï¼Œè¯»å– **å‚æ•°** æ‰§è¡Œç›¸å…³æ“ä½œï¼Œç„¶åé€šè¿‡ **result.success()** è¿”å›ç»“æœç»™Flutterç«¯ã€‚

## ğŸ‘Flutterçš„æ¸²æŸ“

é¦–å…ˆï¼Œæˆ‘ä»¬Androidå±‚ä»£ç ä¸­ä¼šç”Ÿæˆä¸€ä¸ªSurface ï¼Œ æŠŠè¿™ä¸ªSurfaceç»™åˆ°Flutterï¼ŒFlutterå°†ä»£ç ç»è¿‡è™šæ‹Ÿæœºçš„è§£æä¹‹åç”ŸæˆUIã€‚è·¨å¹³å°çš„å…³é”®ä¹Ÿå°±åœ¨äºï¼Œè¿™ä¸ªSurfaceé‡Œé¢åŒ…è£¹äº†ä¸€ä¸ªC++ çš„Surface 

### ä¸‰ç§æ ‘ç»“æ„

Widget â†’ å¯¹è§†å›¾çš„ç»“æ„åŒ–æè¿°ï¼Œå­˜å‚¨è§†å›¾æ¸²æŸ“ç›¸å…³çš„ é…ç½®ä¿¡æ¯ï¼šå¸ƒå±€ã€æ¸²æŸ“å±æ€§ã€äº‹ä»¶å“åº”ç­‰ä¿¡æ¯ã€‚

Element â†’ Widgetçš„å®ä¾‹åŒ–å¯¹è±¡ï¼Œæ‰¿è½½è§†å›¾æ„å»ºçš„ä¸Šä¸‹æ–‡æ•°æ®ï¼Œè¿æ¥Widgetåˆ°å®Œæˆæœ€ç»ˆ æ¸²æŸ“ çš„ æ¡¥æ¢ã€‚

RenderObject â†’ è´Ÿè´£å®ç°è§†å›¾æ¸²æŸ“çš„å¯¹è±¡ï¼›

### widget

ç»„ä»¶å±‚æ¬¡ç»“æ„ï¼Œå®ƒç”±å„ç§Widgetç»„æˆï¼Œå®ƒä»¬æè¿°äº†ä¸€ä¸ªè§†è§‰éƒ¨ä»¶çš„é…ç½®å’Œå¤–è§‚ã€‚Widgetæ ‘é€šè¿‡Widgetå¯¹è±¡çš„åµŒå¥—å…³ç³»æ¥è¡¨ç¤ºåº”ç”¨ç¨‹åºçš„å¸ƒå±€å’Œç»“æ„ã€‚

**widgetçš„ä¸å˜æ€§**ï¼šWidgetè¢«è®¾è®¡æˆä¸å¯å˜çš„ (immutable)ã€‚å½“è§†å›¾æ¸²æŸ“çš„é…ç½®ä¿¡æ¯å‘ç”Ÿå˜åŒ–ï¼ŒFlutterä¼š **é‡å»º**Widgetæ ‘ æ¥è¿›è¡Œæ•°æ®æ›´æ–°ã€‚å› ä¸ºä¸æ¶‰åŠå®é™…æ¸²æŸ“ä½å›¾ï¼Œæ‰€ä»¥å®ƒåªæ˜¯ä¸€ä¸ª è½»é‡çº§ çš„æ•°æ®ç»“æ„ï¼Œé‡å»ºæˆæœ¬å¾ˆä½ã€‚å¦å¤–ï¼Œå¾—ç›ŠäºWidgetçš„ ä¸å¯å˜æ€§ï¼Œå¯ä»¥ä»¥è¾ƒä½æˆæœ¬è¿›è¡Œ æ¸²æŸ“ç»“ç‚¹(Element) çš„ å¤ç”¨ï¼Œå› æ­¤åœ¨çœŸå®æ¸²æŸ“æ ‘ä¸­å¯èƒ½å­˜åœ¨ ä¸åŒWidgetå¯¹åº”åŒä¸€ä¸ªæ¸²æŸ“ç»“ç‚¹çš„æƒ…å†µ (å¤šå¯¹ä¸€)ã€‚

### element

Elementæ ‘æ˜¯Widgetæ ‘çš„å®ä¾‹åŒ–è¡¨ç¤ºï¼Œå®ƒæ˜¯Flutteræ¡†æ¶å†…éƒ¨ç”¨æ¥ç®¡ç†å’Œç»´æŠ¤çš„æ•°æ®ç»“æ„ã€‚æ¯ä¸ªWidgetåœ¨Flutterè¿è¡Œæ—¶éƒ½ä¼šå¯¹åº”ä¸€ä¸ªElementå¯¹è±¡ã€‚

### RenderObjectæ ‘

RenderObjectæ ‘ä¸­çš„èŠ‚ç‚¹è´Ÿè´£å®é™…çš„ç»˜åˆ¶å’Œå¸ƒå±€è®¡ç®—ï¼Œå®ƒä»¬æ˜¯Flutteræ¸²æŸ“å¼•æ“çš„æ ¸å¿ƒã€‚RenderObjectæ ‘ä¸­çš„èŠ‚ç‚¹ä¹‹é—´é€šè¿‡çˆ¶å­å…³ç³»å»ºç«‹äº†æ•´ä¸ªUIçš„æ¸²æŸ“å±‚æ¬¡ã€‚

**Flutterçš„æ¸²æŸ“è¿‡ç¨‹**ç®€å•åˆ†æˆè¿™ä¸‰æ­¥ï¼š

1. é€šè¿‡ Widgetæ ‘ ç”Ÿæˆå¯¹åº”çš„ Elementæ ‘ï¼›
2. åˆ›å»ºç›¸åº”çš„ RenderObject å¹¶å…³è”åˆ° Element.renderObject å±æ€§ä¸Šï¼›
3. æ„å»ºæˆ RenderObjectæ ‘ï¼Œæ·±åº¦ä¼˜å…ˆéå†ï¼Œç¡®å®šæ ‘ä¸­å„å¯¹è±¡çš„ ä½ç½®å’Œå°ºå¯¸ (å¸ƒå±€) ï¼ŒæŠŠå®ƒä»¬ ç»˜åˆ¶ åˆ°ä¸åŒå›¾å±‚ä¸Šã€‚Skia åœ¨ Vsyncä¿¡å·åŒæ­¥ æ—¶ç›´æ¥ä»æ¸²æŸ“æ ‘ åˆæˆBitmapï¼Œæœ€åäº¤ç»™ GPUæ¸²æŸ“ï¼›

Elementæ˜¯å¯å¤ç”¨çš„ï¼ŒWidgetè§¦å‘é‡å»ºï¼ŒFlutterä¼šæ ¹æ®é‡æ–°å‰åWidgetæ ‘çš„ æ¸²æŸ“ç±»å‹åŠå±æ€§å˜åŒ–æƒ…å†µ å†³å®šåç»­çš„ å¤ç”¨æˆ–æ–°å»ºã€‚

æ¯”å¦‚ï¼šåªæ˜¯è°ƒæ•´äº†ä¸€ä¸ªæ¸²æŸ“æ ·å¼ï¼ŒFlutterä¼šé€šçŸ¥Elementå¤ç”¨ç°æœ‰èŠ‚ç‚¹ï¼Œåªæ˜¯ åŒæ­¥å±æ€§ åˆ°RenderObjectå‡ºå‘ç»˜åˆ¶ã€‚å¦‚æœWidgetæ ‘ä¸­æ¶‰åŠåˆ° **Widgetç±»å‹æ›¿æ¢æˆ–å˜æ›´**ï¼ŒFlutter åˆ™ä¼šå°†è€çš„ElementåŠRenderObject **æ‘˜é™¤**ï¼Œè®©æ–°Widget é‡æ–°èµ°ä¸€éåˆ›å»º Element å’Œ RenderObject çš„æµç¨‹ï¼ŒæŒ‚è½½åˆ° Element æ ‘å’Œ RenderObject æ ‘ä¸Šã€‚

StatefulWidgetçŠ¶æ€æ”¹å˜ï¼ŒWidgetæ˜¯ä¸å˜çš„ï¼Œå˜åŒ–çš„æ˜¯ä¸ä¹‹ç»‘å®šçš„Stateï¼ŒStateçš„ä»»ä½•æ›´æ”¹éƒ½ä¼š å¼ºåˆ¶Widget çš„ é‡æ–°æ„å»ºï¼ï¼ï¼

**ä¸¤æ¡ç¼–ç å»ºè®®**ï¼š

**ä¸è¦æ»¥ç”¨StatefulWidget**ï¼å‡å¦‚çˆ¶å¸ƒå±€æ˜¯StatefulWidgetï¼Œå…¶Stateæ¯è°ƒç”¨ä¸€æ¬¡æ›´æ–°UIï¼Œ**ä¼šé—´æ¥è§¦å‘æ‰€æœ‰å­Viewçš„é”€æ¯å’Œé‡å»º**ã€‚è™½ç„¶Flutteré€šè¿‡Elementå±‚æœ€å¤§ç¨‹åº¦é™ä½ **å¯¹çœŸå®æ¸²æŸ“è§†å›¾çš„ä¿®æ”¹**ï¼Œæé«˜äº†æ¸²æŸ“æ•ˆç‡ã€‚ä½†æ— æ³•é¿å…å¤§é‡çš„Widgetå¯¹è±¡çš„é”€æ¯å’Œé‡å»ºï¼Œå¦‚æœæŸä¸ªWidgetçš„é‡å»ºæ¶‰åŠè€—æ—¶æ“ä½œï¼Œé¡µé¢çš„æ¸²æŸ“æ€§èƒ½ä¹Ÿä¼šæ€¥å‰§ä¸‹é™ã€‚ä¸æ¶‰åŠåˆ°çŠ¶æ€å˜åŒ–çš„Widgetï¼Œè€è€å®å®ç”¨StatelessWidgetã€‚

**ä¸è¦åœ¨build()çš„æ–¹æ³•å†…éƒ¨è¿›è¡Œè€—æ—¶æ“ä½œ**ï¼é™¤äº†æˆ‘ä»¬ä¸»åŠ¨é€šè¿‡Stateåˆ·æ–°UIå¤–ï¼Œåœ¨æŸäº›ç‰¹æ®Šåœºæ™¯ä¸‹ï¼ŒWidget çš„build()æœ‰å¯èƒ½ä¼šæ‰§è¡Œå¤šæ¬¡ã€‚

### Flutterçš„è°ƒä¼˜

### é€Ÿåº¦ä¼˜åŒ–

DevToolsæœ‰ä¸€ä¸ªç•Œé¢Performance å¯ä»¥çœ‹åˆ°æ€§èƒ½ï¼Œå¡é¡¿çš„æ˜¯çº¢è‰²ä¸€èˆ¬çš„æ˜¯è“è‰²

ä¼˜åŒ–çš„æ–¹å¼ï¼š

1. æ‰¾åˆ°è€—æ—¶çš„åœ°æ–¹ â€”â€” æ”¾åˆ°å­çº¿ç¨‹
2. å¤ç”¨ï¼š å‡å°‘element çš„åˆ›å»ºï¼Œé€šè¿‡keyï¼ˆLocal keyï¼‰

å› ä¸ºå…ƒç´ çš„ç”Ÿå­˜å‘¨æœŸä¸­çš„æŒ‚è½½Mountå’Œå¸è½½UnMountæ˜¯å¾ˆè€—è´¹æ€§èƒ½çš„ï¼Œå› æ­¤å°½é‡è®©ä»–å¤„äºActiveæˆ–è€…DeActiveçŠ¶æ€

æ‰€ä»¥æœ‰æ—¶å€™å¯ä»¥åœ¨ç»„ä»¶ä¸ŠåŠ ä¸€ä¸ªkeyï¼Œæˆ–è€…ç›´æ¥ç”¨RepaintBoundaryåŒ…è£¹

ä½†æ˜¯æ³¨æ„éšæ„ä½¿ç”¨Global keyå¯èƒ½å¯¼è‡´å†…å­˜æ³„éœ²

### å†…å­˜æ³„éœ²

ä»€ä¹ˆæ˜¯å†…å­˜æ³„æ¼ï¼Ÿ**å°±æ˜¯æˆ‘ä»¬å†™äº†ä¸€äº›å¯¹è±¡ï¼Œæ­»äº†ä¹‹åæœ¬æ¥åº”è¯¥å›æ”¶ï¼Œä½†æ˜¯æ²¡æœ‰è¢«å›æ”¶ã€‚**

javaçš„å†…å­˜å›æ”¶ç”±GCï¼ˆåƒåœ¾å›æ”¶å™¨ï¼‰å»åšï¼Œä»–ä¼šåˆ¤æ–­å¯¹è±¡çš„å¯åˆ°è¾¾æ€§ï¼Œä¹Ÿå°±æ˜¯æœ‰æ²¡æœ‰è¢«å‡ ç§ç±»å‹çš„å¼•ç”¨æ‰€æŒ‡å‘ï¼šé™æ€å˜é‡staticã€æ´»è·ƒçš„çº¿ç¨‹ã€JNIã€‚è¿™ç§æœ‰ç”¨è¿˜ä¼šä¼ é€’ï¼Œå°±æ˜¯è¯´ä¸€ä¸ªè¢«åˆ¤å®šæœ‰ç”¨çš„å¯¹è±¡ï¼Œæ‰€åŒ…å«æŒ‡å‘çš„å¯¹è±¡éƒ½è¢«åˆ¤å®šæœ‰ç”¨

å†…å­˜æ³„éœ²æ˜¯å †çš„æ³„éœ²ï¼Œæ ˆåªä¼šæº¢å‡º

ä½¿ç”¨æˆ‘ä»¬è®¾ç½®ç•Œé¢çš„ä¾‹å­å°±æ˜¯ï¼šå¦‚æœå­è®¾ç½®é¡¹çš„widget æœ‰ä¸€ä¸ª**å®šæ—¶å™¨ã€å¹¿æ’­ç›‘å¬**æ²¡æœ‰è¢«æ­£ç¡®åœ°åœæ­¢æˆ–è€…ä¸€ä¸ª**å…¨å±€å˜é‡**æ²¡æœ‰è¢«ç½®ä¸ºnullã€‚è¦é¿å…è¿™ç§æƒ…å†µï¼Œç¡®ä¿åœ¨é¡µé¢é€€å‡ºæ—¶ï¼ˆä¾‹å¦‚åœ¨`dispose`æ–¹æ³•ä¸­ï¼‰åŠæ—¶å–æ¶ˆå’Œé‡Šæ”¾æ‰€æœ‰ä¸å†éœ€è¦çš„èµ„æºå’Œå¼•ç”¨ã€‚

Flutterä¸­æ¯”å¦‚ ç›‘å¬å™¨ï¼ˆå¦‚`addListener`ï¼‰ï¼Œå¿…é¡»åœ¨ä¸éœ€è¦æ—¶åŠæ—¶å–æ¶ˆè®¢é˜…æˆ–ç§»é™¤ç›‘å¬å™¨ã€‚

ä¾‹å¦‚ï¼Œå­˜åœ¨ä¸¤ä¸ªAï¼ŒBç•Œé¢ï¼ŒAç•Œé¢é€šè¿‡Navigator.pushçš„æ–¹å¼æ·»åŠ Bç•Œé¢ï¼ŒBç•Œé¢é€šè¿‡Navigator.popå›é€€åˆ°Aã€‚å¦‚æœBç•Œé¢å› ä¸ºæŸäº›å†™æ³•çš„ç¼˜æ•…å¯¼è‡´Bçš„æ¸²æŸ“æ ‘è™½ç„¶è¢«ä»ä¸»æ¸²æŸ“æ ‘è§£å¼€åä¾ç„¶æ— æ³•è¢«é‡Šæ”¾ï¼Œè¿™ä¼šå¯¼è‡´æ•´ä¸ªåŸæ¥Bçš„å­æ ‘éƒ½æ— æ³•é‡Šæ”¾ã€‚

![img](Flutterç¬”è®°.assets/172724888318534.png)

ä»¥ä¸Šæ¬¡Aé¡µé¢pushBç•Œé¢ï¼ŒBç•Œé¢popå›é€€Aç•Œé¢ä¸ºä¾‹å­ã€‚æ­£å¸¸æ— å†…å­˜æ³„æ¼çš„æƒ…å†µä¸‹ï¼Œæ­£åœ¨ä½¿ç”¨çš„layerä¸ªæ•°ï¼ˆè“è‰²ï¼‰ï¼Œå†…å­˜ä¸­çš„layerä¸ªæ•°ï¼ˆæ©™è‰²ï¼‰ä¸¤æ¡æ›²çº¿çš„è™½ç„¶æœ‰æ³¢åŠ¨ï¼Œä½†æ˜¯æœ€ç»ˆéƒ½ä¼šæ¯”è¾ƒè´´åˆã€‚

ä½†æ˜¯åœ¨Bé¡µé¢å­˜åœ¨å†…å­˜æ³„æ¼çš„æ—¶å€™ï¼Œé€€åˆ°Aç•Œé¢åï¼ŒBæ ‘å®Œå…¨æ— æ³•é‡Šæ”¾ï¼Œå†…å­˜ä¸­çš„layerä¸ªæ•°ï¼ˆæ©™è‰²ï¼‰æ— æ³•æœ€ç»ˆè´´åˆè“è‰²æ›²çº¿ï¼ˆæ­£åœ¨ä½¿ç”¨çš„layerä¸ªæ•°ï¼‰ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºæ¸²æŸ“è€Œè¨€ï¼Œå¦‚æœä»£ç å¯¼è‡´Widgetæ ‘æˆ–Elementæ ‘é•¿æ—¶é—´æ— æ³•è¢«GCå›æ”¶ï¼Œå¾ˆå¯èƒ½ä¼šå¯¼è‡´ä¸¥é‡çš„å†…å­˜æ³„æ¼æƒ…å†µã€‚

## å…¶ä»–ç»†èŠ‚

final å’Œ const

const åœ¨ç¼–è¯‘æ—¶å®šä¸‹ä¸å¯æ”¹å˜ï¼Œç”¨åœ¨ä¸€äº›é¢œè‰²ç­‰å€¼çš„å®šä¹‰ä¸Š

final åœ¨è¿è¡Œæ—¶å®šä¸‹ä¸å¯æ”¹å˜

## asyncã€awaitåŸç†

ä¹‹æ‰€ä»¥è¯´async/awaitæ˜¯å‡å¼‚æ­¥,æ˜¯å› ä¸ºä»–åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å¹¶æ²¡æœ‰å¼€å¯æ–°çš„çº¿ç¨‹æ›´æ²¡æœ‰å¹¶å‘æ‰§è¡Œ,è€Œæ˜¯é€šè¿‡å•çº¿ç¨‹ä¸Šçš„ä»»åŠ¡è°ƒåº¦(åç¨‹,æ²¡æœ‰å¹¶å‘æ‰§è¡ŒåŠŸèƒ½)å®ç°çš„:

## Flutterä¸­çš„é€»è¾‘åƒç´ 

é€»è¾‘åƒç´ ï¼Œä¹Ÿç§°ä¸ºè®¾å¤‡ç‹¬ç«‹åƒç´ ï¼ˆdpï¼‰ï¼Œæ˜¯Flutterç”¨äºå¸ƒå±€å’Œæ¸²æŸ“çš„è™šæ‹Ÿåƒç´ å•ä½ã€‚ç¡®ä¿ä¸åŒå±å¹•å¯†åº¦çš„è®¾å¤‡ä¸Šæ˜¾ç¤ºå‡ºä¸€è‡´çš„è§†è§‰æ•ˆæœã€‚ç‰©ç†åƒç´ é€šå¸¸ç”¨pxè¡¨ç¤ºï¼Œä»£è¡¨è®¾å¤‡å±å¹•ä¸Šçš„å®é™…åƒç´ ã€‚

é€»è¾‘åƒç´ å’Œç‰©ç†åƒç´ ä¹‹é—´çš„è½¬æ¢ï¼šåœ¨Flutterä¸­ï¼Œå¯ä»¥é€šè¿‡è®¾å¤‡çš„åƒç´ æ¯”ä¾‹ï¼ˆç¼©æ”¾å› å­ï¼‰æ¥è¿›è¡Œé€»è¾‘åƒç´ å’Œç‰©ç†åƒç´ ä¹‹é—´çš„è½¬æ¢ã€‚ä»¥ä¸‹æ˜¯è½¬æ¢çš„æ–¹æ³•ï¼š

```Java
double ç‰©ç†åƒç´  = é€»è¾‘åƒç´  * MediaQuery.of(context).devicePixelRatio;
```

å®‰å“ä¸­ä¹Ÿæœ‰ï¼šsp px dp

px:å…¶å®å°±æ˜¯åƒç´ å•ä½ï¼Œæ¯”å¦‚æˆ‘ä»¬é€šå¸¸è¯´çš„æ‰‹æœºåˆ†è¾¨åˆ—è¡¨800*400éƒ½æ˜¯pxçš„å•ä½

spï¼šåŒdpç›¸ä¼¼ï¼Œè¿˜ä¼šæ ¹æ®ç”¨æˆ·çš„å­—ä½“å¤§å°åå¥½æ¥ç¼©æ”¾ï¼Œ**ç”¨äºå®šä¹‰æ–‡æœ¬å¤§å°**ã€‚

dpï¼šè™šæ‹Ÿåƒç´ ï¼Œåœ¨ä¸åŒçš„åƒç´ å¯†åº¦çš„è®¾å¤‡ä¸Šä¼šè‡ªåŠ¨é€‚é…ï¼Œ**éæ–‡æœ¬ UI å…ƒç´ çš„å°ºå¯¸**ã€‚

## Flutterä¸­çš„é»„è‰²æ–‘é©¬çº¿ï¼ˆæº¢å‡ºæŒ‡ç¤ºå™¨ï¼‰

![img](Flutterç¬”è®°.assets/172724888318535.png)

ç»™æº¢å‡ºçš„Text å¥—ä¸ª Expanded æˆ– Flexible å°±èƒ½è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ–è€…ç”¨ Wrap ä»£æ›¿ Rowï¼Œå¤ªé•¿æ˜¾ç¤ºä¸å…¨ï¼Œå®ƒä¼šè‡ªåŠ¨æ¢è¡Œã€‚